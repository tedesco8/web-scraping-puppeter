(function(t){function e(e){for(var o,s,r=e[0],c=e[1],l=e[2],u=0,m=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&m.push(i[s][0]),i[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],o=!0,r=1;r<a.length;r++){var c=a[r];0!==i[c]&&(o=!1)}o&&(n.splice(e--,1),t=s(s.s=a[0]))}return t}var o={},i={app:0},n=[];function s(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=o,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(a,o,function(e){return t[e]}.bind(null,o));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"05d3":function(t,e,a){"use strict";var o=a("08f6"),i=a.n(o);i.a},"08f6":function(t,e,a){},"317d":function(t,e,a){"use strict";var o=a("d552"),i=a.n(o);i.a},"3f28":function(t,e,a){t.exports=a.p+"img/espacioRedesLogo.be65130f.png"},4678:function(t,e,a){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=n(t);return a(e)}function n(t){if(!a.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}i.keys=function(){return Object.keys(o)},i.resolve=n,t.exports=i,i.id="4678"},"55b9":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var o=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"}},[a("NavBar"),a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-slide-y-transition",{attrs:{mode:"out-in"}},[a("router-view")],1)],1)],1),a("Footer")],1)},n=[],s=a("2f62"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-app-bar",{attrs:{"clipped-left":t.$vuetify.breakpoint.lgAndUp,app:"",color:"primary",dark:""}},[a("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"300px"}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("span",{staticClass:"hidden-sm-and-down"},[t._v("Espacio Natural")])],1),a("v-spacer"),t.logueado?a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.salir()}}},[a("v-icon",[t._v("logout")])],1):a("v-btn",{attrs:{to:{name:"login"},icon:""}},[a("v-icon",[t._v("apps")])],1)],1),t.logueado?a("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.lgAndUp,app:"",dark:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[t.esAdministrador||t.esAlmacenero||t.esVendedor?[a("v-list-item",{attrs:{to:{name:"home"}}},[a("v-list-item-action",[a("v-icon",[t._v("home")])],1),a("v-list-item-title",[t._v("Inicio")])],1)]:t._e(),t.esAdministrador||t.esAlmacenero?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v("Almacén")])],1)],1),a("v-list-item",{attrs:{to:{name:"categoria"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Categorías")])],1)],1),a("v-list-item",{attrs:{to:{name:"articulo"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Artículos")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esAlmacenero?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v("Compras")])],1)],1),a("v-list-item",{attrs:{to:{name:"comprar"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Lista de compras")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esVendedor?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v("Ventas")])],1)],1),a("v-list-item",{attrs:{to:{name:"venta"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Ventas")])],1)],1),a("v-list-item",{attrs:{to:{name:"deuda"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Deudas")])],1)],1)],1)]:t._e(),t.esAdministrador||t.esVendedor?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v("Personas")])],1)],1),a("v-list-item",{attrs:{to:{name:"cliente"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Clientes")])],1)],1),t.esAdministrador?a("v-list-item",{attrs:{to:{name:"usuario"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Usuarios")])],1)],1):t._e()],1)]:t._e(),t.esAdministrador||t.esAlmacenero?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v("Reportes")])],1)],1),a("v-list-item",{attrs:{to:{name:"reporteIngreso"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Consulta Compras")])],1)],1),a("v-list-item",{attrs:{to:{name:"reporteVenta"}}},[a("v-list-item-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Consulta Ventas")])],1)],1)],1)]:t._e()],2)],1):t._e()],1)},c=[],l={name:"NavBar",data(){return{drawer:!1}},computed:{...Object(s["c"])("usuarioNamespace",["usuario"]),logueado(){return this.usuario},esAdministrador(){return this.usuario&&"Administrador"==this.usuario.rol},esAlmacenero(){return this.usuario&&"Almacenero"==this.usuario.rol},esVendedor(){return this.usuario&&"Vendedor"==this.usuario.rol}},methods:{...Object(s["b"])("usuarioNamespace",["salir"])}},d=l,u=a("2877"),m=a("6544"),v=a.n(m),p=a("40dc"),h=a("5bc1"),b=a("8336"),f=a("132d"),_=a("8860"),g=a("56b0"),x=a("da13"),k=a("1800"),C=a("5d23"),y=a("f774"),j=a("2fa4"),A=a("2a7f"),w=Object(u["a"])(d,r,c,!1,null,null,null),V=w.exports;v()(w,{VAppBar:p["a"],VAppBarNavIcon:h["a"],VBtn:b["a"],VIcon:f["a"],VList:_["a"],VListGroup:g["a"],VListItem:x["a"],VListItemAction:k["a"],VListItemContent:C["a"],VListItemTitle:C["b"],VNavigationDrawer:y["a"],VSpacer:j["a"],VToolbarTitle:A["a"]});var D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-footer",{attrs:{height:"auto"}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{"text-xs-center":""}},[a("v-card",{staticClass:"white--text text-center",attrs:{flat:"",title:"",color:"secondary"}},[a("v-card-text",{staticClass:"white--text pt-2"},[a("h3",[t._v("Espacio Natural © "+t._s((new Date).getFullYear()))])])],1)],1)],1)],1)},I=[],T={},E=T,N=a("b0af"),M=a("99d9"),S=a("0e8f"),F=a("553a"),O=a("a722"),L=Object(u["a"])(E,D,I,!1,null,null,null),P=L.exports;v()(L,{VCard:N["a"],VCardText:M["c"],VFlex:S["a"],VFooter:F["a"],VLayout:O["a"]});var $={name:"App",data(){return{}},components:{NavBar:V,Footer:P},created(){this.autoLogin()},methods:{...Object(s["b"])("usuarioNamespace",["autoLogin"])}},B=$,U=a("7496"),R=a("a523"),z=a("a75b"),H=a("0789"),q=Object(u["a"])(B,i,n,!1,null,null,null),G=q.exports;v()(q,{VApp:U["a"],VContainer:R["a"],VContent:z["a"],VSlideYTransition:H["e"]});var J=a("8c4f"),Y=a("04e1"),K=a.n(Y),W=a("bc3a"),Z=a.n(W),Q={namespaced:!0,state:{token:null,usuario:null,usuarioQuery:{},usuarios:[]},mutations:{setToken(t,e){t.token=e},setUsuario(t,e){t.usuario=e},llenarUsuarios(t,e){t.usuarios=e},llenarUsuario(t,e){t.usuarioQuery=e}},actions:{guardarToken({commit:t},e){t("setToken",e),t("setUsuario",K()(e)),localStorage.setItem("token",e)},autoLogin({commit:t}){let e=localStorage.getItem("token"),a=K()(e);var o=Date.now()/1e3;a.exp<o?Ya.push({name:"login"}):(t("setToken",e),t("setUsuario",a),Ya.push({name:"home"}))},salir({commit:t}){t("setToken",null),t("setUsuario",null),localStorage.removeItem("token"),Ya.push({name:"login"})},getUsuarios:async function({commit:t},e){let a={Token:e},o={headers:a},i=null;await Z.a.get("usuario/list",o).then((function(e){i=e.data,t("llenarUsuarios",i)})).catch((function(t){console.log(t)}))},getUsuario:async function({commit:t},e){let a={Token:e.token},o={headers:a},i=null;await Z.a.get("usuario/query?_id="+e.id,o).then((function(e){i=e.data.detalles,t("llenarUsuario",i)})).catch((function(t){console.log(t)}))},saveUsuario:async function({dispatch:t},e){let a={Token:e.token},o={headers:a};await Z.a.post("usuario/add",{rol:e.rol,nombre:e.nombre,tipo_documento:e.tipo_documento,num_documento:e.num_documento,direccion:e.direccion,telefono:e.telefono,email:e.email,password:e.password},o).then((function(a){t("getUsuarios",e.token),swal({title:"Buen trabajo!",text:`Usuario ${a.data.nombre} agregado correctamente`,icon:"success"})})).catch((function(t){swal({title:"Lo sentimos!",text:"Ha ocurrido un error de tipo "+t,icon:"error"})}))},updateUsuario:async function({dispatch:t},e){let a={Token:e.token},o={headers:a};await Z.a.put("usuario/update",{_id:e.id,rol:e.rol,nombre:e.nombre,tipo_documento:e.tipo_documento,num_documento:e.num_documento,direccion:e.direccion,telefono:e.telefono,email:e.email,password:e.password},o).then((function(a){t("getUsuarios",e.token),swal({title:"Buen trabajo!",text:`Usuario ${a.data.nombre} editado correctamente`,icon:"success"})})).catch((function(t){swal({title:"Lo sentimos!",text:"Ha ocurrido un error de tipo "+t,icon:"error"})}))},activateUsuario:async function({dispatch:t},e){let a={Token:e.token},o={headers:a};await Z.a.put("usuario/activate",{_id:e.id},o).then((function(){t("getUsuarios",e.token),swal({title:"Buen trabajo!",text:"Usuario activado correctamente",icon:"success"})})).catch((function(t){swal({title:"Lo sentimos!",text:"Ha ocurrido un error de tipo "+t,icon:"error"})}))},deactivateUsuario:async function({dispatch:t},e){let a={Token:e.token},o={headers:a};await Z.a.put("usuario/deactivate",{_id:e.id},o).then((function(){t("getUsuarios",e.token),swal({title:"Buen trabajo!",text:"Usuario desactivado correctamente",icon:"success"})})).catch((function(t){swal({title:"Lo sentimos!",text:"Ha ocurrido un error de tipo "+t,icon:"error"})}))},deleteUsuario:async function({dispatch:t},e){let a=e.token,o={Token:a},i={headers:o};await Z.a.delete("usuario/remove?_id="+e.id,i).then((function(){t("getUsuarios",e.token),swal({title:"Buen trabajo!",text:"Usuario eliminado correctamente",icon:"success"})})).catch((function(t){swal({title:"Lo sentimos!",text:"Ha ocurrido un error de tipo "+t,icon:"error"}),console.log(t)}))}}},X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{attrs:{wrap:""}},[a("Indicadores1",{attrs:{items:t.items}})],1),a("v-row"),a("v-row",{attrs:{wrap:""}},[a("v-col",{attrs:{cols:"112",xs:"12",sm:"12",md:"6"}},[a("ChartClientes",{attrs:{modo:t.modoChartClientes}})],1),a("v-col",{attrs:{cols:"112",xs:"12",sm:"12",md:"6"}},[a("ChartVentas",{attrs:{modo:t.modoChartVentas}})],1)],1)],1)},tt=[],et=new o["a"],at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{attrs:{dense:""}},t._l(t.items,(function(e,o){return a("v-col",{key:o,attrs:{cols:"12",xs:"12",sm:"3"}},[a("v-card",{staticClass:"mt-4 mx-auto",attrs:{"max-width":"400"}},[a("v-sheet",{staticClass:"v-sheet--offset mx-auto",attrs:{color:e.color,elevation:"12","max-width":"calc(100% - 32px)"}},[a("v-sparkline",{attrs:{labels:e.labels,value:e.value,color:"white","line-width":"2",padding:"16"}})],1),a("v-card-text",{staticClass:"pt-0"},[a("div",{staticClass:"title font-weight-light mb-2"},[t._v("User Registrations")]),a("div",{staticClass:"subheading font-weight-light grey--text"},[t._v("\n            Last Campaign Performance\n          ")]),a("v-divider",{staticClass:"my-2"}),a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("\n            mdi-clock\n          ")]),a("span",{staticClass:"caption grey--text font-weight-light"},[t._v("last registration 26 minutes ago")])],1)],1)],1)})),1)],1)},ot=[],it={data:()=>({items:[{labels:["12am","3am","6am","9am","12pm","3pm","6pm","9pm"],value:[200,675,410,390,310,460,250,240],color:"light-blue"},{labels:["12am","3am","6am","9am","12pm","3pm","6pm","9pm"],value:[200,675,410,390,310,460,250,240],color:"cyan"},{labels:["12am","3am","6am","9am","12pm","3pm","6pm","9pm"],value:[200,675,410,390,310,460,250,240],color:"teal"},{labels:["12am","3am","6am","9am","12pm","3pm","6pm","9pm"],value:[200,675,410,390,310,460,250,240],color:"deep-purple"}]})},nt=it,st=(a("a9ed"),a("62ad")),rt=a("ce7e"),ct=a("0fd9"),lt=a("8dd9"),dt=a("7f2e"),ut=Object(u["a"])(nt,at,ot,!1,null,null,null),mt=ut.exports;v()(ut,{VCard:N["a"],VCardText:M["c"],VCol:st["a"],VContainer:R["a"],VDivider:rt["a"],VIcon:f["a"],VRow:ct["a"],VSheet:lt["a"],VSparkline:dt["a"]});var vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{attrs:{dense:""}},t._l(t.items,(function(e,o){return a("v-col",{key:o,attrs:{cols:"12",xs:"12",sm:"6"}},[a("v-card",{attrs:{color:e.color,dark:""}},[a("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[a("div",[a("v-card-title",{staticClass:"headline",domProps:{textContent:t._s(e.title)}}),a("v-card-subtitle",{domProps:{textContent:t._s(e.artist)}})],1),a("div",[a("span",{staticClass:"display-2 font-weight-black",staticStyle:{"padding-top":"18px"},domProps:{textContent:t._s(e.cuantity)}})])])])],1)})),1)],1)},pt=[],ht={data:()=>({}),props:{items:Array}},bt=ht,ft=Object(u["a"])(bt,vt,pt,!1,null,null,null),_t=ft.exports;v()(ft,{VCard:N["a"],VCardSubtitle:M["b"],VCardTitle:M["d"],VCol:st["a"],VContainer:R["a"],VRow:ct["a"]});var gt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},xt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ct-chart"},[a("canvas",{attrs:{id:"myChart"}})])}],kt=a("30ef"),Ct=a.n(kt),yt={data(){return{valores:[],meses:[],totales:[]}},computed:{...Object(s["c"])("usuarioNamespace",["token"])},methods:{listar(){let t=this,e={Token:this.token},a={headers:e};Z.a.get("venta/grafico12meses",a).then((function(e){t.valores=e.data,t.graficar()})).catch((function(t){console.log(t)}))},graficar(){let t=this,e="";t.valores.map((function(a){switch(parseInt(a._id.mes)){case 1:e="Enero";break;case 2:e="Febrero";break;case 3:e="Marzo";break;case 4:e="Abril";break;case 5:e="Mayo";break;case 6:e="Junio";break;case 7:e="Julio";break;case 8:e="Agosto";break;case 9:e="Setiembre";break;case 10:e="Octubre";break;case 11:e="Noviembre";break;case 12:e="Diciembre";break;default:e="error"}t.meses.push(e+"-"+a._id.year),t.totales.push(a.total)}));var a=document.getElementById("myChart");new Ct.a(a,{type:"bar",data:{labels:t.meses,datasets:[{label:"Monto total",data:t.totales,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}},mounted(){this.listar()}},jt=yt,At=Object(u["a"])(jt,gt,xt,!1,null,null,null),wt=At.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",xs:"12",sm:"12"}},[a("highcharts",{attrs:{options:t.chartOptions}})],1)],1)],1)},Dt=[],It=a("4452"),Tt=a.n(It),Et={name:"chart",data(){return{title:"Total de ventas",valores:[],meses:[],totales:[]}},components:{highcharts:It["Chart"]},props:{speed:Array,modo:String},crated(){this.listar()},methods:{listar(){let t=this,e={Token:this.token},a={headers:e};axios.get("venta/grafico12meses",a).then((function(e){t.valores=e.data,t.graficar()})).catch((function(t){console.log(t)}))},graficar(){let t=this,e="";t.valores.map((function(a){switch(parseInt(a._id.mes)){case 1:e="Enero";break;case 2:e="Febrero";break;case 3:e="Marzo";break;case 4:e="Abril";break;case 5:e="Mayo";break;case 6:e="Junio";break;case 7:e="Julio";break;case 8:e="Agosto";break;case 9:e="Setiembre";break;case 10:e="Octubre";break;case 11:e="Noviembre";break;case 12:e="Diciembre";break;default:e="error"}t.meses.push(e+"-"+a._id.year),t.totales.push(a.total)}))}},computed:{...Object(s["c"])("usuarioNamespace",["token"]),chartOptions(){return{chart:{type:this.modo},title:{text:this.title},xAxis:{categories:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],crosshair:!0},yAxis:{min:0,title:{text:"Rainfall (mm)"}},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.1f}</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[{name:"Almacén",data:[48.9,38.8,39.3,41.4,47,48.3,59,59.6,52.4,65.2,59.3,51.2]},{name:"Reparto",data:[42.4,33.2,34.5,39.7,52.6,75.5,57.4,60.4,47.6,39.1,46.8,51.1]}]}}}},Nt=Et,Mt=Object(u["a"])(Nt,Vt,Dt,!1,null,null,null),St=Mt.exports;v()(Mt,{VCol:st["a"],VContainer:R["a"],VRow:ct["a"]});var Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",xs:"12",sm:"12"}},[a("highcharts",{attrs:{options:t.chartOptions}})],1)],1)],1)},Ot=[],Lt={name:"chart",data(){return{title:"Clientes por zona"}},components:{highcharts:It["Chart"]},props:{speed:Array,modo:String},crated(){this.listar()},computed:{...Object(s["c"])("usuarioNamespace",["token"]),chartOptions(){return{chart:{type:this.modo},title:{text:this.title},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!0}},series:[{name:"Brands",colorByPoint:!0,data:[{name:"Zona 1",y:61.41,sliced:!0,selected:!0},{name:"Zona 2",y:11.84},{name:"Zona 3",y:10.85},{name:"Zona 4",y:4.67}]}]}}}},Pt=Lt,$t=Object(u["a"])(Pt,Ft,Ot,!1,null,null,null),Bt=$t.exports;v()($t,{VCol:st["a"],VContainer:R["a"],VRow:ct["a"]});var Ut={data(){return{modoChartVentas:"column",modoChartClientes:"pie",ventasA:[],ventasB:[],pedidosA:[],items:[{color:"success",cuantity:"",title:"Pedidos",artist:"Pedidos actuales"},{color:"success",cuantity:"",title:"Clientes",artist:"Total de clientes"},{color:"success",cuantity:"",title:"Ventas",artist:"Ventas Almacén"},{color:"success",cuantity:"",title:"Ventas",artist:"Ventas DIstribución"}]}},created(){this.diferenciarVentas(),this.totalClientes(),this.totalVentasAlmacen(),this.totalVentasDistribucion(),this.totalPedidos(),this.getClientes(this.token).then(),this.getVentas(this.token).then(),this.getDeudas(this.token).then(),this.getUsuarios(this.token).then()},components:{Indicadores1:_t,Indicadores2:mt,VentasReporte:wt,ChartVentas:St,ChartClientes:Bt},computed:{...Object(s["c"])("usuarioNamespace",["token","usuario"]),...Object(s["c"])("clienteNamespace",["clientes"]),...Object(s["c"])("ventasNamespace",["ventas"])},methods:{...Object(s["b"])("clienteNamespace",["getClientes"]),...Object(s["b"])("ventasNamespace",["getVentas"]),...Object(s["b"])("deudasNamespace",["getDeudas"]),...Object(s["b"])("usuarioNamespace",["getUsuarios"]),diferenciarVentas(){this.ventas.forEach(t=>{0!=t.entrega?1==t.negocio?this.ventasA.push(t):this.ventasB.push(t):this.pedidosA.push(t)})},totalPedidos(){this.items[0].cuantity=this.pedidosA.length},totalClientes(){this.items[1].cuantity=this.clientes.length},totalVentasAlmacen(){this.items[2].cuantity=this.ventasA.length},totalVentasDistribucion(){this.items[3].cuantity=this.ventasB.length}}},Rt=Ut,zt=Object(u["a"])(Rt,X,tt,!1,null,null,null),Ht=zt.exports;v()(zt,{VCol:st["a"],VContainer:R["a"],VRow:ct["a"]});var qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{text:"",color:"white"}},[a("v-toolbar-title",[t._v("Categorías")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},o),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Descripción"},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Activar Item")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Desactivar Item")]):t._e(),3==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Eliminar Categoria")]):t._e(),a("v-card-text",[t._v("\n            Estás a punto de\n            "),1==t.adAccion?a("span",[t._v("activar")]):t._e(),2==t.adAccion?a("span",[t._v("desactivar")]):t._e(),3==t.adAccion?a("span",[t._v("eliminar")]):t._e(),t._v("\n            el item "+t._s(t.adNombre)+"\n          ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:"text"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v("Cancelar")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.activar()}}},[t._v("Activar")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.desactivar()}}},[t._v("Desactivar")]):t._e(),3==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.eliminarCategoria()}}},[t._v("Eliminar")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.categorias,search:t.search},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},i),[t._v("edit")])]}}],null,!0)},[a("span",[t._v("Editar categoría")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[o.estado?a("div",[a("v-icon",t._g({attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,o)}}},i),[t._v("block")])],1):a("div",[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,o)}}},[t._v("check")])],1),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(3,o)}}},i),[t._v("delete")])]}}],null,!0)},[a("span",[t._v("Eliminar")])])]}}],null,!0)},[a("span",[t._v(t._s(o.estado?"Desactivar":"Activar"))])])]}},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Resetear")])]},proxy:!0}])})],1)],1)},Gt=[],Jt={data(){return{dialog:!1,search:"",categorias:[],headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre",sortable:!0},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],editedIndex:-1,_id:"",nombre:"",descripcion:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{...Object(s["c"])("usuarioNamespace",["token"]),formTitle(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}},watch:{dialog(t){t||this.close()}},created(){this.listar()},methods:{listar(){let t=this,e=this.token,a={Token:e},o={headers:a};Z.a.get("categoria/list",o).then((function(e){t.categorias=e.data})).catch((function(t){console.log(t)}))},limpiar(){this._id="",this.nombre="",this.descripcion="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},validar(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<1||this.nombre.length>50)&&this.validaMensaje.push("El nombre de la categoría debe tener entre 1-50 caracteres."),this.descripcion.length>255&&this.validaMensaje.push("La descripción de la categoría no debe tener más de 255 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},guardar(){let t=this,e=this.token,a={Token:e},o={headers:a};this.validar()||(this.editedIndex>-1?Z.a.put("categoria/update",{_id:this._id,nombre:this.nombre,descripcion:this.descripcion},o).then((function(e){swal({title:"Buen trabajo!",text:"Categoría editada exitosamente",icon:"success"}),t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})):Z.a.post("categoria/add",{nombre:this.nombre,descripcion:this.descripcion},o).then((function(e){swal({title:"Buen trabajo!",text:"Categoría agregada exitosamente",icon:"success"}),t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},editItem(t){this._id=t._id,this.nombre=t.nombre,this.descripcion=t.descripcion,this.dialog=!0,this.editedIndex=1},activarDesactivarMostrar(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e._id,1==t?this.adAccion=1:2==t?this.adAccion=2:3==t?this.adAccion=3:this.adModal=0},activarDesactivarCerrar(){this.adModal=0},activar(){let t=this,e=this.token,a={Token:e},o={headers:a};Z.a.put("categoria/activate",{_id:this.adId},o).then((function(e){swal({title:"Buen trabajo!",text:"Categoría activada exitosamente",icon:"success"}),t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar(){let t=this,e=this.token,a={Token:e},o={headers:a};Z.a.put("categoria/deactivate",{_id:this.adId},o).then((function(e){swal({title:"Buen trabajo!",text:"Categoría desactivada exitosamente",icon:"success"}),t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},eliminarCategoria(){let t=this,e=this.token,a={Token:e},o={headers:a};Z.a.delete("categoria/remove?_id="+this.adId,o).then((function(e){swal({title:"Buen trabajo!",text:"Categoria eliminada exitosamente",icon:"success"}),t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){swal({title:"Lo sentimos!",text:"Ha ocurrido un error de tipo "+t,icon:"error"}),console.log(t)}))},close(){this.dialog=!1}}},Yt=Jt,Kt=a("8fea"),Wt=a("169a"),Zt=a("8654"),Qt=a("71d9"),Xt=a("3a2f"),te=Object(u["a"])(Yt,qt,Gt,!1,null,null,null),ee=te.exports;v()(te,{VBtn:b["a"],VCard:N["a"],VCardActions:M["a"],VCardText:M["c"],VCardTitle:M["d"],VContainer:R["a"],VDataTable:Kt["a"],VDialog:Wt["a"],VDivider:rt["a"],VFlex:S["a"],VIcon:f["a"],VLayout:O["a"],VSpacer:j["a"],VTextField:Zt["a"],VToolbar:Qt["a"],VToolbarTitle:A["a"],VTooltip:Xt["a"]});var ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg5:"",xl4:""}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("\n          Acceso al Sistema\n        ")])],1),a("v-card-text",[a("v-text-field",{attrs:{autofocus:"",color:"accent",label:"Email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{type:"password",color:"accent",label:"Password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t.errorM?a("v-flex",{staticClass:"red--text"},[t._v("\n          "+t._s(t.errorM)+"\n        ")]):t._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.ingresar()}}},[t._v("Ingresar")])],1)],1)],1)],1)],1)},oe=[],ie={data(){return{email:"",password:"",errorM:null}},methods:{...Object(s["b"])("usuarioNamespace",["guardarToken"]),ingresar(){Z.a.post("usuario/login",{email:this.email,password:this.password}).then(t=>t.data).then(t=>{swal({title:"Genial!",text:"Bienvenido a Espacio Natural",icon:"success"}),this.guardarToken(t.tokenReturn),Ya.push({name:"home"})}).catch(t=>{console.log(t),this.errorM=null,404==t.response.status?this.errorM="No exíste el usuario o las credenciales son incorrectas":this.errorM="Ocurrió un error con el servidor"})}}},ne=ie,se=Object(u["a"])(ne,ae,oe,!1,null,null,null),re=se.exports;v()(se,{VBtn:b["a"],VCard:N["a"],VCardActions:M["a"],VCardText:M["c"],VFlex:S["a"],VLayout:O["a"],VTextField:Zt["a"],VToolbar:Qt["a"],VToolbarTitle:A["a"]});var ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{text:"",color:"white"}},[a("v-toolbar-title",[t._v("Usuarios")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},o),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.roles,label:"Rol"},model:{value:t.rol,callback:function(e){t.rol=e},expression:"rol"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.documentos,label:"Tipo Documento"},model:{value:t.tipo_documento,callback:function(e){t.tipo_documento=e},expression:"tipo_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Número Documento"},model:{value:t.num_documento,callback:function(e){t.num_documento=e},expression:"num_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Teléfono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"password",label:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Activar Usuario")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Desactivar Usuario")]):t._e(),3==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Eliminar Usuario")]):t._e(),a("v-card-text",[t._v("\n            Estás a punto de\n            "),1==t.adAccion?a("span",[t._v("activar")]):t._e(),2==t.adAccion?a("span",[t._v("desactivar")]):t._e(),3==t.adAccion?a("span",[t._v("eliminar")]):t._e(),t._v("\n            el usuario "+t._s(t.adNombre)+"\n          ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:"text"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v("Cancelar")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.activar()}}},[t._v("Activar")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.desactivar()}}},[t._v("Desactivar")]):t._e(),3==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.eliminarUsuario()}}},[t._v("Eliminar")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.usuarios,search:t.search},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},i),[t._v("edit")])]}}],null,!0)},[a("span",[t._v("Editar usuario")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[o.estado?a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,o)}}},i),[t._v("block")]):a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,o)}}},[t._v("check")])]}}],null,!0)},[a("span",[t._v(t._s(o.estado?"Desactivar":"Activar"))])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(3,o)}}},i),[t._v("delete")])]}}],null,!0)},[a("span",[t._v("Eliminar")])])]}},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.getUsuarios()}}},[t._v("Resetear")])]},proxy:!0}])})],1)],1)},le=[],de={data(){return{dialog:!1,search:"",headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre",sortable:!0},{text:"Rol",value:"rol",sortable:!0},{text:"Tipo Documento",value:"tipo_documento",sortable:!0},{text:"Número Documento",value:"num_documento",sortable:!1},{text:"Dirección",value:"direccion",sortable:!1},{text:"Teléfono",value:"telefono",sortable:!1},{text:"Email",value:"email",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],editedIndex:-1,_id:"",nombre:"",rol:"",roles:["Administrador","Almacenero","Vendedor"],tipo_documento:"",documentos:["DNI","RUC","PASAPORTE","CEDULA"],num_documento:"",direccion:"",telefono:"",email:"",password:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{...Object(s["c"])("usuarioNamespace",["token"]),...Object(s["c"])("usuarioNamespace",["usuarios","usuarioQuery"]),formTitle(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}},watch:{dialog(t){t||this.close()}},methods:{...Object(s["b"])("usuarioNamespace",["getUsuarios","getUsuario","saveUsuario","updateUsuario","activateUsuario","deactivateUsuario","deleteUsuario"]),limpiar(){this._id="",this.nombre="",this.num_documento="",this.direccion="",this.telefono="",this.email="",this.password="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},validar(){return this.valida=0,this.validaMensaje=[],this.rol||this.validaMensaje.push("Seleccione un rol."),(this.nombre.length<1||this.nombre.length>50)&&this.validaMensaje.push("El nombre del usuario debe tener entre 1-50 caracteres."),this.num_documento.length>20&&this.validaMensaje.push("El documento no debe tener más de 20 caracteres."),this.direccion.length>70&&this.validaMensaje.push("La dirección no debe tener más de 70 caracteres."),this.telefono.length>20&&this.validaMensaje.push("El teléfono no debe tener más de 20 caracteres."),(this.email.length<1||this.nombre.length>50)&&this.validaMensaje.push("El email del usuario debe tener entre 1-50 caracteres."),(this.password.length<1||this.nombre.length>64)&&this.validaMensaje.push("El password del usuario debe tener entre 1-64 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},guardar(){this.token;this.validar()||(this.editedIndex>-1?(this.updateUsuario({token:this.token,id:this._id,rol:this.rol,nombre:this.nombre,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direccion:this.direccion,telefono:this.telefono,email:this.email,password:this.password}),this.limpiar(),this.close()):(this.saveUsuario({token:this.token,id:this._id,rol:this.rol,nombre:this.nombre,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direccion:this.direccion,telefono:this.telefono,email:this.email,password:this.password}),this.limpiar(),this.close()))},editItem(t){this._id=t._id,this.rol=t.rol,this.nombre=t.nombre,this.tipo_documento=t.tipo_documento,this.num_documento=t.num_documento,this.direccion=t.direccion,this.telefono=t.telefono||"",this.email=t.email,this.password=t.password,this.dialog=!0,this.editedIndex=1},activarDesactivarMostrar(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e._id,1==t?this.adAccion=1:2==t?this.adAccion=2:3==t?this.adAccion=3:this.adModal=0},activarDesactivarCerrar(){this.adModal=0},activar(){let t=this,e={Token:this.token},a={headers:e};Z.a.put("usuario/activate",{_id:this.adId},a).then((function(e){swal({title:"Buen trabajo!",text:"Usuario activado exitosamente",icon:"success"}),t.adModal=0,t.adAccion=0,t.adNombre="",t.adId=""})).catch((function(t){console.log(t)}))},desactivar(){let t=this,e={Token:this.token},a={headers:e};Z.a.put("usuario/deactivate",{_id:this.adId},a).then((function(e){swal({title:"Buen trabajo!",text:"Usuario desactivado exitosamente",icon:"success"}),t.adModal=0,t.adAccion=0,t.adNombre="",t.adId=""})).catch((function(t){console.log(t)}))},eliminarUsuario(){let t=this,e=this.token,a={Token:e},o={headers:a};Z.a.delete("usuario/remove?_id="+this.adId,o).then((function(e){swal({title:"Buen trabajo!",text:"Usuario eliminado exitosamente",icon:"success"}),t.adModal=0,t.adAccion=0,t.adNombre="",t.adId=""})).catch((function(t){swal({title:"Lo sentimos!",text:"Ha ocurrido un error de tipo "+t,icon:"error"}),console.log(t)}))},close(){this.dialog=!1}}},ue=de,me=a("b974"),ve=Object(u["a"])(ue,ce,le,!1,null,null,null),pe=ve.exports;v()(ve,{VBtn:b["a"],VCard:N["a"],VCardActions:M["a"],VCardText:M["c"],VCardTitle:M["d"],VContainer:R["a"],VDataTable:Kt["a"],VDialog:Wt["a"],VDivider:rt["a"],VFlex:S["a"],VIcon:f["a"],VLayout:O["a"],VSelect:me["a"],VSpacer:j["a"],VTextField:Zt["a"],VToolbar:Qt["a"],VToolbarTitle:A["a"],VTooltip:Xt["a"]});var he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{text:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Artículos")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},o),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Código"},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.categorias,label:"Categoría"},model:{value:t.categoria,callback:function(e){t.categoria=e},expression:"categoria"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{type:"number",label:"Stock"},model:{value:t.stock,callback:function(e){t.stock=e},expression:"stock"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Precio Costo"},model:{value:t.precio_costo,callback:function(e){t.precio_costo=e},expression:"precio_costo"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Precio Venta"},model:{value:t.precio_venta,callback:function(e){t.precio_venta=e},expression:"precio_venta"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Descripción"},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Activar Item")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Desactivar Item")]):t._e(),3==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Eliminar Artículo")]):t._e(),a("v-card-text",[t._v("\n            Estás a punto de\n            "),1==t.adAccion?a("span",[t._v("activar")]):t._e(),2==t.adAccion?a("span",[t._v("desactivar")]):t._e(),3==t.adAccion?a("span",[t._v("eliminar")]):t._e(),t._v("\n            el item "+t._s(t.adNombre)+"\n          ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:"text"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v("Cancelar")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.activar()}}},[t._v("Activar")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.desactivar()}}},[t._v("Desactivar")]):t._e(),3==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.eliminarArticulo()}}},[t._v("Eliminar")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.articulos,search:t.search},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},i),[t._v("edit")])]}}],null,!0)},[a("span",[t._v("Editar artículo")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[o.estado?a("div",[a("v-icon",t._g({attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,o)}}},i),[t._v("block")])],1):a("div",[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,o)}}},[t._v("check")])],1),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(3,o)}}},i),[t._v("delete")])]}}],null,!0)},[a("span",[t._v("Eliminar")])])]}}],null,!0)},[a("span",[t._v(t._s(o.estado?"Desactivar":"Activar"))])])]}},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Resetear")])]},proxy:!0}])})],1)],1)},be=[],fe=a("1940"),_e=a.n(fe),ge={data(){return{dialog:!1,search:"",articulos:[],headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre",sortable:!0},{text:"Categoría",value:"categoria.nombre",sortable:!1},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],editedIndex:-1,_id:"",categoria:"",categorias:[],codigo:"",nombre:"",stock:0,precio_costo:0,precio_venta:0,descripcion:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{...Object(s["c"])("usuarioNamespace",["token","usuario"]),formTitle(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}},watch:{dialog(t){t||this.close()}},created(){this.listar(),this.selectCategoria()},methods:{crearPDF(){var t=[{title:"Nombre",dataKey:"nombre"},{title:"Código",dataKey:"codigo"},{title:"Categoría",dataKey:"categoria"},{title:"Stock",dataKey:"stock"},{title:"Precio Costo",dataKey:"precio_costo"},{title:"Precio Venta",dataKey:"precio_venta"}],e=[];this.articulos.map((function(t){e.push({nombre:t.nombre,codigo:t.codigo,categoria:t.categoria.nombre,stock:t.stock,precio_costo:t.precio_costo,precio_venta:t.precio_venta})}));var a=new jsPDF("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Lista de Artículos",40,30)}}),a.save("Articulos.pdf")},selectCategoria(){let t=this,e=[],a=this.token,o={Token:a},i={headers:o};Z.a.get("categoria/list",i).then((function(a){e=a.data,e.map((function(e){t.categorias.push({text:e.nombre,value:e._id})}))})).catch((function(t){console.log(t)}))},listar(){let t=this,e=this.token,a={Token:e},o={headers:a};Z.a.get("articulo/list",o).then((function(e){t.articulos=e.data})).catch((function(t){console.log(t)}))},limpiar(){this._id="",this.nombre="",this.codigo="",this.stock=0,this.precio_costo=0,this.precio_venta=0,this.descripcion="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},validar(){return this.valida=0,this.validaMensaje=[],this.categoria||this.validaMensaje.push("Seleccione una categoría"),this.codigo.length>64&&this.validaMensaje.push("El código no debe tener más de 64 caracteres"),(this.nombre.length<1||this.nombre.length>50)&&this.validaMensaje.push("El nombre del artículo debe tener entre 1-50 caracteres."),this.descripcion.length>255&&this.validaMensaje.push("La descripción del artículo no debe tener más de 255 caracteres."),this.stock<0&&this.validaMensaje.push("Ingrese un stock valido"),this.precio_costo<0&&this.validaMensaje.push("Ingrese un precio de costo valido"),this.precio_venta<0&&this.validaMensaje.push("Ingrese un precio de venta valido"),this.validaMensaje.length&&(this.valida=1),this.valida},guardar(){let t=this,e=this.token,a={Token:e},o={headers:a};this.validar()||(this.editedIndex>-1?Z.a.put("articulo/update",{_id:this._id,categoria:this.categoria,codigo:this.codigo,nombre:this.nombre,stock:this.stock,precio_costo:this.precio_costo,precio_venta:this.precio_venta,descripcion:this.descripcion},o).then((function(e){_e()({title:"Buen trabajo!",text:"Artículo editado exitosamente",icon:"success"}),t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})):Z.a.post("articulo/add",{categoria:this.categoria,codigo:this.codigo,nombre:this.nombre,stock:this.stock,precio_costo:this.precio_costo,precio_venta:this.precio_venta,descripcion:this.descripcion},o).then((function(e){_e()({title:"Buen trabajo!",text:"Artículo editado exitosamente",icon:"success"}),t.limpiar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},editItem(t){this._id=t._id,this.categoria=t.categoria._id,this.codigo=t.codigo,this.nombre=t.nombre,this.stock=t.stock,this.precio_costo=t.precio_costo,this.precio_venta=t.precio_venta,this.descripcion=t.descripcion,this.dialog=!0,this.editedIndex=1},activarDesactivarMostrar(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e._id,1==t?this.adAccion=1:2==t?this.adAccion=2:3==t?this.adAccion=3:this.adModal=0},activarDesactivarCerrar(){this.adModal=0},activar(){let t=this,e=this.token,a={Token:e},o={headers:a};Z.a.put("articulo/activate",{_id:this.adId},o).then((function(e){_e()({title:"Buen trabajo!",text:"Artículo activado exitosamente",icon:"success"}),t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desactivar(){let t=this,e=this.token,a={Token:e},o={headers:a};Z.a.put("articulo/deactivate",{_id:this.adId},o).then((function(e){_e()({title:"Buen trabajo!",text:"Artículo desactivado exitosamente",icon:"success"}),t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},eliminarArticulo(){let t=this,e=this.token,a={Token:e},o={headers:a};Z.a.delete("articulo/remove?_id="+this.adId,o).then((function(e){_e()({title:"Buen trabajo!",text:"Artículo eliminado exitosamente",icon:"success"}),t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(t){_e()({title:"Lo sentimos!",text:"Ha ocurrido un error de tipo "+t,icon:"error"}),console.log(t)}))},close(){this.dialog=!1}}},xe=ge,ke=Object(u["a"])(xe,he,be,!1,null,null,null),Ce=ke.exports;v()(ke,{VBtn:b["a"],VCard:N["a"],VCardActions:M["a"],VCardText:M["c"],VCardTitle:M["d"],VContainer:R["a"],VDataTable:Kt["a"],VDialog:Wt["a"],VDivider:rt["a"],VFlex:S["a"],VIcon:f["a"],VLayout:O["a"],VSelect:me["a"],VSpacer:j["a"],VTextField:Zt["a"],VToolbar:Qt["a"],VToolbarTitle:A["a"],VTooltip:Xt["a"]});var ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{text:"",color:"white"}},[a("v-toolbar-title",[t._v("Clientes")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},o),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.documentos,label:"Tipo Documento"},model:{value:t.tipo_documento,callback:function(e){t.tipo_documento=e},expression:"tipo_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Número Documento"},model:{value:t.num_documento,callback:function(e){t.num_documento=e},expression:"num_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Teléfono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Activar Item")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Desactivar Item")]):t._e(),3==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Eliminar Cliente")]):t._e(),a("v-card-text",[t._v("\n            Estás a punto de\n            "),1==t.adAccion?a("span",[t._v("activar")]):t._e(),2==t.adAccion?a("span",[t._v("desactivar")]):t._e(),3==t.adAccion?a("span",[t._v("eliminar")]):t._e(),t._v("\n            el item "+t._s(t.adNombre)+"\n          ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:"text"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v("Cancelar")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.activar()}}},[t._v("Activar")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.desactivar()}}},[t._v("Desactivar")]):t._e(),3==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.eliminarCliente()}}},[t._v("Eliminar")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.clientes,search:t.search},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},i),[t._v("edit")])]}}],null,!0)},[a("span",[t._v("Editar cliente")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[o.estado?a("div",[a("v-icon",t._g({attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,o)}}},i),[t._v("block")])],1):a("div",[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,o)}}},[t._v("check")])],1),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(3,o)}}},i),[t._v("delete")])]}}],null,!0)},[a("span",[t._v("Eliminar")])])]}}],null,!0)},[a("span",[t._v(t._s(o.estado?"Desactivar":"Activar"))])])]}},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.llamarClientes()}}},[t._v("Resetear")])]},proxy:!0}])})],1)],1)},je=[],Ae={data(){return{dialog:!1,search:"",headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre",sortable:!0},{text:"Tipo Persona",value:"tipo_persona",sortable:!0},{text:"Tipo Documento",value:"tipo_documento",sortable:!0},{text:"Número Documento",value:"num_documento",sortable:!1},{text:"Dirección",value:"direccion",sortable:!1},{text:"Teléfono",value:"telefono",sortable:!1},{text:"Email",value:"email",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],editedIndex:-1,_id:"",nombre:"",tipo_persona:"Cliente",tipo_documento:"",documentos:["DNI","RUC","PASAPORTE","CEDULA"],num_documento:"",direccion:"",telefono:"",email:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},components:{},computed:{...Object(s["c"])("usuarioNamespace",["token"]),...Object(s["c"])("clienteNamespace",["clientes"]),formTitle(){return-1===this.editedIndex?"Nuevo registro":"Editar registro"}},watch:{dialog(t){t||this.close()}},methods:{...Object(s["b"])("clienteNamespace",["getClientes","saveCliente","updateCliente","activateCliente","deactivateCliente","deleteCliente"]),llamarClientes(){let t=this.token;this.getClientes(t)},limpiar(){this._id="",this.nombre="",this.num_documento="",this.direccion="",this.telefono="",this.email="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},validar(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<1||this.nombre.length>50)&&this.validaMensaje.push("El nombre de la persona debe tener entre 1-50 caracteres."),this.num_documento.length>20&&this.validaMensaje.push("El documento no debe tener más de 20 caracteres."),this.direccion.length>70&&this.validaMensaje.push("La dirección no debe tener más de 70 caracteres."),this.telefono.length>20&&this.validaMensaje.push("El teléfono no debe tener más de 20 caracteres."),this.email.length>50&&this.validaMensaje.push("El email del usuario debe tener menos de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},guardar(){this.validar()||(this.editedIndex>-1?(this.updateCliente({token:this.token,id:this._id,tipo_persona:this.tipo_persona,nombre:this.nombre,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direccion:this.direccion,telefono:this.telefono,email:this.email}),this.limpiar(),this.close()):(this.saveCliente({token:this.token,tipo_persona:this.tipo_persona,nombre:this.nombre,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direccion:this.direccion,telefono:this.telefono,email:this.email}),this.limpiar(),this.close()))},activar(){this.activateCliente({token:this.token,_id:this.adId}),this.adModal=0,this.adAccion=0,this.adNombre="",this.adId=""},desactivar(){this.deactivateCliente({token:this.token,_id:this.adId}),this.adModal=0,this.adAccion=0,this.adNombre="",this.adId=""},editItem(t){this._id=t._id,this.rol=t.rol,this.nombre=t.nombre,this.tipo_documento=t.tipo_documento,this.num_documento=t.num_documento,this.direccion=t.direccion,this.telefono=t.telefono||"",this.email=t.email,this.password=t.password,this.dialog=!0,this.editedIndex=1},activarDesactivarMostrar(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e._id,1==t?this.adAccion=1:2==t?this.adAccion=2:3==t?this.adAccion=3:this.adModal=0},activarDesactivarCerrar(){this.adModal=0},eliminarCliente(){this.deleteCliente({token:this.token,id:this.adId}),this.adModal=0,this.adAccion=0,this.adNombre="",this.adId=""},close(){this.dialog=!1}}},we=Ae,Ve=Object(u["a"])(we,ye,je,!1,null,null,null),De=Ve.exports;v()(Ve,{VBtn:b["a"],VCard:N["a"],VCardActions:M["a"],VCardText:M["c"],VCardTitle:M["d"],VContainer:R["a"],VDataTable:Kt["a"],VDialog:Wt["a"],VDivider:rt["a"],VFlex:S["a"],VIcon:f["a"],VLayout:O["a"],VSelect:me["a"],VSpacer:j["a"],VTextField:Zt["a"],VToolbar:Qt["a"],VToolbarTitle:A["a"],VTooltip:Xt["a"]});var Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{text:"",color:"white"}},[a("v-toolbar-title",[a("v-icon",[t._v("attach_money")])],1),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-spacer"),0==t.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.mostrarNuevo()}}},[t._v("Nuevo")]):t._e(),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Activar Venta")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Desactivar Venta")]):t._e(),3==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Eliminar pedido")]):t._e(),4==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Entrega")]):t._e(),5==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Entrega")]):t._e(),a("v-card-text",[t._v("\n            Estás a punto de\n            "),1==t.adAccion?a("span",[t._v("activar")]):t._e(),2==t.adAccion?a("span",[t._v("desactivar")]):t._e(),3==t.adAccion?a("span",[t._v("eliminar")]):t._e(),4==t.adAccion?a("span",[t._v("dar por entregado")]):t._e(),5==t.adAccion?a("span",[t._v("dar por no entregado")]):t._e(),t._v("\n            el pedido "+t._s(t.adNombre)+"\n          ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:"text"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v("Cancelar")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.activar()}}},[t._v("Activar")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.desactivar()}}},[t._v("Desactivar")]):t._e(),3==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.eliminarPedido()}}},[t._v("Eliminar")]):t._e(),4==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.entregado()}}},[t._v("Entregado")]):t._e(),5==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",text:"text"},on:{click:function(e){return t.noEntregado()}}},[t._v("No entregado")]):t._e()],1)],1)],1),a("modalImprimir",{ref:"modal_imprimir",attrs:{pedidos:t.imprimirNegocio?t.pedidosReparto:t.pedidosAlmacen}}),a("Imprimir",{ref:"imprimir",attrs:{imprimir:t.imprimir},model:{value:t.comprobanteModal,callback:function(e){t.comprobanteModal=e},expression:"comprobanteModal"}})],1),t.verNuevo?a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("h2",{staticClass:"text-center"},[t._v(t._s(t.verooeditar))]),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:"",lg6:"",xl6:""}},[a("v-autocomplete",{attrs:{items:t.personas,label:"Cliente"},model:{value:t.persona,callback:function(e){t.persona=e},expression:"persona"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:"",lg6:"",xl6:""}},[a("v-autocomplete",{attrs:{items:t.negocios,label:"Negocio"},model:{value:t.negocio,callback:function(e){t.negocio=e},expression:"negocio"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:"",lg6:"",x6:""}},[a("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Fecha de entrega","persistent-hint":"","prepend-icon":"event"},model:{value:t.dateFormatted,callback:function(e){t.dateFormatted=e},expression:"dateFormatted"}},"v-text-field",i,!1),o))]}}],null,!1,685766260),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{attrs:{"available-dates":{start:new Date,end:null},"no-title":""},on:{input:function(e){t.menu1=!1},change:function(e){return t.changeDate(e)}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:"",lg6:"",x6:""}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Buscar por artículo"},on:{keyup:function(e){return t.listarArticulos()}},model:{value:t.texto,callback:function(e){t.texto=e},expression:"texto"}})],1),a("v-flex",{staticClass:"d-flex justify-center",attrs:{xs12:"",sm6:"",md6:"",lg6:"",x6:""}},[a("v-checkbox",{attrs:{label:"Entregado",value:"false"},model:{value:t.entrega,callback:function(e){t.entrega=e},expression:"entrega"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:"",lg6:"",x6:""}},[a("v-text-field",{attrs:{label:"Pagado"},model:{value:t.pagado,callback:function(e){t.pagado=e},expression:"pagado"}})],1),t.texto.length>0?[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraArticulos,items:t.articulos},scopedSlots:t._u([{key:"item.seleccionar",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.agregarDetalle(o)}}},[t._v("add")])]}},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]}}],null,!1,2749385703)})]:t._e(),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.errorArticulo,expression:"errorArticulo"}],attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("div",{staticClass:"red--text",domProps:{textContent:t._s(t.errorArticulo)}})]),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraDetalles,items:t.detalles},scopedSlots:t._u([{key:"item.borrar",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.eliminarDetalle(t.detalles,o)}}},[t._v("delete")])]}},{key:"item.articulo",fn:function(e){var o=e.item;return[a("div",{staticClass:"text-xs-center"},[t._v(t._s(o.articulo))])]}},{key:"item.cantidad",fn:function(e){var o=e.item;return[a("div",{staticClass:"text-xs-center"},[a("v-text-field",{attrs:{type:"number"},model:{value:o.cantidad,callback:function(e){t.$set(o,"cantidad",e)},expression:"item.cantidad"}})],1)]}},{key:"item.unidad",fn:function(e){var o=e.item;return[a("div",{staticClass:"text-xs-center"},[a("v-select",{attrs:{items:t.unidades,label:"Unidades"},on:{change:function(e){return t.updateUnidad(e,o)}},model:{value:o.unidad,callback:function(e){t.$set(o,"unidad",e)},expression:"item.unidad"}})],1)]}},{key:"item.precio",fn:function(e){var o=e.item;return[a("div",{staticClass:"text-xs-center"},[a("v-text-field",{attrs:{type:"number"},model:{value:o.precio,callback:function(e){t.$set(o,"precio",e)},expression:"item.precio"}})],1)]}},{key:"item.descripcion",fn:function(e){var o=e.item;return[a("div",{staticClass:"text-xs-center"},[a("v-text-field",{model:{value:o.descripcion,callback:function(e){t.$set(o,"descripcion",e)},expression:"item.descripcion"}})],1)]}},{key:"item.subtotal",fn:function(e){var o=e.item;return[a("div",{staticClass:"text-xs-right"},[t._v("\n                  $ "+t._s(o.cantidad*o.precio)+"\n                ")])]}}],null,!1,1064072494)},[a("template",{slot:"no-data"},[a("h3",[t._v("No hay artículos agregados al detalle.")])])],2),a("v-flex",{staticClass:"text-xs-right",attrs:{xs12:"",sm6:"",md6:"",lg6:"",x6:""}},[a("strong",[t._v("Sub total:")]),t._v("\n              $\n              "+t._s(t.totalParcial=t.total)+"\n            ")]),a("v-flex",{staticClass:"text-xs-right",attrs:{xs12:"",sm6:"",md6:"",lg6:"",x6:""}},[a("strong",[t._v("Total Neto:")]),t._v("\n              $ "+t._s(t.total=t.calcularTotal)+"\n            ")])]],2),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0),a("v-flex",{attrs:{xs12:"",sm6:"",md6:"",lg6:"",xl6:""}},[1==t.verDetalle?a("v-btn",{attrs:{color:"success"},nativeOn:{click:function(e){return t.ocultarNuevo()}}},[t._v("Salir")]):t._e(),0==t.verDetalle?a("v-btn",{attrs:{color:"blue darken-1",text:""},nativeOn:{click:function(e){return t.ocultarNuevo()}}},[t._v("Cancelar")]):t._e(),0==t.verDetalle?a("v-btn",{attrs:{color:"success"},nativeOn:{click:function(e){return t.guardar()}}},[t._v("Guardar")]):t._e()],1),a("v-flex",{staticStyle:{"text-align":"end"},attrs:{xs12:"",sm6:"",md6:"",lg6:"",xl6:""}},[a("v-btn",{attrs:{color:"warning",medium:"",fab:"",dark:""},on:{click:function(e){return t.limpiar()}}},[a("v-icon",[t._v("refresh")])],1)],1)],2)],1):t._e(),a("v-expansion-panels",{staticClass:"mt-5",attrs:{popout:""}},[a("v-expansion-panel",{staticClass:"elevation-3"},[a("v-expansion-panel-header",[t._v("Pedidos Almacén")]),a("v-expansion-panel-content",[a("v-row",[a("v-col",[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search1,callback:function(e){t.search1=e},expression:"search1"}})],1),a("v-col",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{large:""},on:{click:function(e){return t.imprimirVarios(1)}}},o),[t._v("print")])]}}])},[a("span",[t._v("Imprimir varios")])])],1),a("v-col",[a("v-menu",{ref:"menuFiltroPedidos",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Filtra por fecha de entrega","persistent-hint":""},model:{value:t.dateFiltroPedidos,callback:function(e){t.dateFiltroPedidos=e},expression:"dateFiltroPedidos"}},"v-text-field",i,!1),o))]}}]),model:{value:t.menuFiltroPedidos,callback:function(e){t.menuFiltroPedidos=e},expression:"menuFiltroPedidos"}},[a("v-date-picker",{attrs:{"no-title":""},model:{value:t.dateFiltroPedidos,callback:function(e){t.dateFiltroPedidos=e},expression:"dateFiltroPedidos"}})],1)],1)],1),0==t.verNuevo?a("v-data-table",{staticClass:"elevation-2",attrs:{headers:t.headersPedido,items:t.pedidosAlmacenDate,search:t.search1},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.verIngreso(o)}}},i),[t._v("tab")])]}}],null,!0)},[a("span",[t._v("Ver detalle")])]),t.esAdministrador?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(3,o)}}},i),[t._v("delete")])]}}],null,!0)},[a("span",[t._v("Eliminar")])]):t._e(),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},i),[t._v("edit")])]}}],null,!0)},[a("span",[t._v("Editar artículo")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.preImpresion(o)}}},i),[t._v("print")])]}}],null,!0)},[a("span",[t._v("Imprimir")])])]}},{key:"item.entregaAt",fn:function(e){var o=e.item;return[a("span",{staticClass:"orange--text"},[t._v(t._s(o.entregaAt))])]}},{key:"item.total",fn:function(e){var o=e.item;return[a("span",{staticClass:"blue--text"},[t._v(t._s(o.total-o.pagado))])]}},{key:"item.resto",fn:function(e){var o=e.item;return[a("span",{class:{"red--text":o.total-o.pagado>0,"blue--text":o.total-o.pagado==0}},[t._v(t._s(o.total-o.pagado))])]}},{key:"item.entrega",fn:function(e){var o=e.item;return[o.entrega?a("div",[a("span",{staticClass:"green--text"},[t._v("Entregado")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No entregado")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Resetear")])]},proxy:!0}],null,!1,24216890)}):t._e()],1)],1)],1),t.esAdministrador?a("v-expansion-panels",{staticClass:"mt-5",attrs:{popout:""}},[a("v-expansion-panel",{staticClass:"elevation-3",attrs:{expand:""}},[a("v-expansion-panel-header",[t._v("Ventas Almacén")]),a("v-expansion-panel-content",[a("v-row",[a("v-col",[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search2,callback:function(e){t.search2=e},expression:"search2"}})],1),a("v-col"),a("v-col",[a("v-menu",{ref:"menuFiltroAlmacen",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Filtra por fecha de entrega","persistent-hint":""},model:{value:t.dateFiltroAlmacen,callback:function(e){t.dateFiltroAlmacen=e},expression:"dateFiltroAlmacen"}},"v-text-field",i,!1),o))]}}],null,!1,1767415628),model:{value:t.menuFiltroAlmacen,callback:function(e){t.menuFiltroAlmacen=e},expression:"menuFiltroAlmacen"}},[a("v-date-picker",{attrs:{"no-title":""},model:{value:t.dateFiltroAlmacen,callback:function(e){t.dateFiltroAlmacen=e},expression:"dateFiltroAlmacen"}})],1)],1)],1),0==t.verNuevo?a("v-data-table",{staticClass:"elevation-2",attrs:{headers:t.headers,items:t.ventasAlmacenDate,search:t.search2},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.verIngreso(o)}}},i),[t._v("tab")])]}}],null,!0)},[a("span",[t._v("Ver detalle")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.preImpresion(o)}}},i),[t._v("print")])]}}],null,!0)},[a("span",[t._v("Imprimir")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[o.entrega?a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.entregaFn(2,o)}}},i),[t._v("place\n                  ")]):a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.entregaFn(1,o)}}},[t._v("\n                    place\n                  ")])]}}],null,!0)},[a("span",[t._v("Entrega")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[o.estado?a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,o)}}},i),[t._v("block")]):a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,o)}}},[t._v("check")])]}}],null,!0)},[a("span",[t._v(t._s(o.estado?"Anular":"Activar"))])])]}},{key:"item.resto",fn:function(e){var o=e.item;return[o.total<o.pagado?a("span",[t._v("0")]):a("span",{class:{"red--text":o.total-o.pagado>0,"blue--text":o.total-o.pagado==0}},[t._v(t._s(o.total-o.pagado))])]}},{key:"item.entrega",fn:function(e){var o=e.item;return[o.entrega?a("div",[a("span",{staticClass:"blue--text"},[t._v("Entregado")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No entregado")])])]}},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Aprobada")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Anulada")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Resetear")])]},proxy:!0}],null,!1,2364861843)}):t._e()],1)],1)],1):t._e(),a("v-expansion-panels",{staticClass:"mt-5",attrs:{popout:""}},[a("v-expansion-panel",{staticClass:"elevation-3"},[a("v-expansion-panel-header",[t._v("Pedidos Reparto")]),a("v-expansion-panel-content",[a("v-row",[a("v-col",[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search3,callback:function(e){t.search3=e},expression:"search3"}})],1),a("v-col",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{large:""},on:{click:function(e){return t.imprimirVarios(2)}}},o),[t._v("print")])]}}])},[a("span",[t._v("Imprimir varios")])])],1),a("v-col",[a("v-menu",{ref:"menuFiltroDistribucion",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Filtra por fecha de entrega","persistent-hint":""},model:{value:t.dateFiltroDist,callback:function(e){t.dateFiltroDist=e},expression:"dateFiltroDist"}},"v-text-field",i,!1),o))]}}]),model:{value:t.menuFiltroDistribucion,callback:function(e){t.menuFiltroDistribucion=e},expression:"menuFiltroDistribucion"}},[a("v-date-picker",{attrs:{"no-title":""},model:{value:t.dateFiltroDist,callback:function(e){t.dateFiltroDist=e},expression:"dateFiltroDist"}})],1)],1)],1),a("v-spacer"),0==t.verNuevo?a("v-data-table",{staticClass:"elevation-2",attrs:{headers:t.headersPedido,items:t.pedidosRepartoDate,search:t.search3},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.verIngreso(o)}}},i),[t._v("tab")])]}}],null,!0)},[a("span",[t._v("Ver detalle")])]),t.esAdministrador?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(3,o)}}},i),[t._v("delete")])]}}],null,!0)},[a("span",[t._v("Eliminar")])]):t._e(),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},i),[t._v("edit")])]}}],null,!0)},[a("span",[t._v("Editar artículo")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.preImpresion(o)}}},i),[t._v("print")])]}}],null,!0)},[a("span",[t._v("Imprimir")])])]}},{key:"item.entregaAt",fn:function(e){var o=e.item;return[a("span",{staticClass:"orange--text"},[t._v(t._s(o.entregaAt))])]}},{key:"item.total",fn:function(e){var o=e.item;return[a("span",{staticClass:"blue--text"},[t._v(t._s(o.total-o.pagado))])]}},{key:"item.resto",fn:function(e){var o=e.item;return[a("span",{class:{"red--text":o.total-o.pagado>0,"blue--text":o.total-o.pagado==0}},[t._v(t._s(o.total-o.pagado))])]}},{key:"item.entrega",fn:function(e){var o=e.item;return[o.entrega?a("div",[a("span",{staticClass:"green--text"},[t._v("Entregado")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No entregado")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Resetear")])]},proxy:!0}],null,!1,24216890)}):t._e()],1)],1)],1),t.esAdministrador?a("v-expansion-panels",{staticClass:"mt-5",attrs:{popout:""}},[a("v-expansion-panel",{staticClass:"elevation-3",attrs:{expand:""}},[a("v-expansion-panel-header",[t._v("Ventas Reparto")]),a("v-expansion-panel-content",[a("v-row",[a("v-col",[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search4,callback:function(e){t.search4=e},expression:"search4"}})],1),a("v-col",[a("v-menu",{ref:"menuFiltroReparto",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Filtra por fecha de entrega","persistent-hint":""},model:{value:t.dateFiltroReparto,callback:function(e){t.dateFiltroReparto=e},expression:"dateFiltroReparto"}},"v-text-field",i,!1),o))]}}],null,!1,3346887242),model:{value:t.menuFiltroReparto,callback:function(e){t.menuFiltroReparto=e},expression:"menuFiltroReparto"}},[a("v-date-picker",{attrs:{"no-title":""},model:{value:t.dateFiltroReparto,callback:function(e){t.dateFiltroReparto=e},expression:"dateFiltroReparto"}})],1)],1)],1),0==t.verNuevo?a("v-data-table",{staticClass:"elevation-2",attrs:{headers:t.headers,items:t.ventasRepartoDate,search:t.search4},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[o.entrega?a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.entregaFn(2,o)}}},i),[t._v("place\n                  ")]):a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.entregaFn(1,o)}}},[t._v("\n                    place\n                  ")])]}}],null,!0)},[a("span",[t._v("Entrega")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.verIngreso(o)}}},i),[t._v("tab")])]}}],null,!0)},[a("span",[t._v("Ver detalle")])]),t.esAdministrador?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(3,o)}}},i),[t._v("delete")])]}}],null,!0)},[a("span",[t._v("Eliminar")])]):t._e(),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.preImpresion(o)}}},i),[t._v("print")])]}}],null,!0)},[a("span",[t._v("Imprimir")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[o.estado?a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,o)}}},i),[t._v("block")]):a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,o)}}},[t._v("check")])]}}],null,!0)},[a("span",[t._v(t._s(o.estado?"Anular":"Activar"))])])]}},{key:"item.total",fn:function(e){var o=e.item;return[a("span",{staticClass:"blue--text"},[t._v(t._s(o.total-o.pagado))])]}},{key:"item.resto",fn:function(e){var o=e.item;return[a("span",{class:{"red--text":o.total-o.pagado>0,"blue--text":o.total-o.pagado==0}},[t._v(t._s(o.total-o.pagado))])]}},{key:"item.entrega",fn:function(e){var o=e.item;return[o.entrega?a("div",[a("span",{staticClass:"green--text"},[t._v("Entregado")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("No entregado")])])]}},{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"green--text"},[t._v("Aprobada")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Anulada")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Resetear")])]},proxy:!0}],null,!1,831823297)}):t._e()],1)],1)],1):t._e()],1)],1)},Te=[],Ee=a("c1df"),Ne=a.n(Ee),Me=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[o("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[o("v-icon",t._g({staticClass:"pr-5",attrs:{large:""},on:{click:function(e){return t.toPrint()}}},a),[t._v("cloud_download")])]}}])},[o("span",[t._v("Descargar")])]),o("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[o("v-icon",t._g({staticClass:"pr-5",attrs:{large:""},on:{click:function(e){return t.sendWhatsApp()}}},a),[t._v("send")])]}}])},[o("span",[t._v("Enviar por WhatsApp")])])],1),o("div",{attrs:{id:"contenedor"}},t._l(t.imprimir,(function(e){return o("v-card-text",{key:e._id,staticStyle:{"page-break-before":"always"}},[o("div",{staticClass:"factura"},[o("header",{staticStyle:{display:"flex"}},[o("div",{staticStyle:{"flex-grow":"1"},attrs:{id:"logo"}},[o("img",{attrs:{src:a("790b"),width:"200px",height:"100px"}})]),o("div",{staticStyle:{"flex-grow":"2","text-align":"center"},attrs:{id:"datos"}},[o("img",{attrs:{src:a("3f28"),width:"200px",height:"100px"}})]),o("div",{staticStyle:{"flex-grow":"2"},attrs:{id:"fact"}},[o("p",[t._v("\n                "+t._s(e.tipo_comprobante)+"\n                "),o("br"),t._v("\n                "+t._s(e.serie_comprobante)+"-"+t._s(e.num_comprobante)+"\n                "),o("br"),t._v("\n                "+t._s(e.fecha)+"\n              ")])])]),o("br"),o("section",[o("div",{staticStyle:{"padding-top":"10px"}},[o("table",{attrs:{id:"facliente"}},[o("tbody",[o("tr",[o("td",{attrs:{id:"cliente"}},[o("strong",[t._v("Sr(a). "+t._s(e.persona.nombre))]),o("br"),o("strong",[t._v("Dirección:")]),void 0!==e.persona?o("span",[t._v("\n                        "+t._s(t.cliente.direccion)+"\n                      ")]):t._e(),o("br"),o("strong",[t._v("Teléfono:")]),void 0!==e.persona?o("span",[t._v("\n                        "+t._s(t.cliente.telefono)+"\n                      ")]):t._e(),o("br"),o("strong",[t._v("Email:")]),void 0!==e.persona?o("span",[t._v("\n                        "+t._s(t.cliente.email)+"\n                      ")]):t._e()])])])])])]),o("br"),o("section",[o("div",[o("table",{staticStyle:{width:"100%"},attrs:{id:"facarticulo"}},[o("thead",{staticStyle:{background:"#2183e3 !important",color:"white","padding-top":"5px !important","padding-bottom":"5px !important"}},[o("tr",{staticStyle:{background:"#2183e3 !important"},attrs:{id:"fa"}},[o("th",[t._v("CANT")]),o("th",[t._v("UNIDAD")]),o("th",[t._v("ARTICULO")]),o("th",[t._v("PRECIO UNIT")]),o("th",[t._v("PRECIO TOTAL")])])]),o("tbody",t._l(e.detalles,(function(e){return o("tr",{key:e._id},[o("td",{staticStyle:{"text-align":"center !important"}},[t._v(t._s(e.cantidad))]),o("td",{staticStyle:{"text-align":"center !important"}},[t._v(t._s(e.unidad))]),o("td",{staticStyle:{"text-align":"center !important"}},[t._v(t._s(e.articulo))]),o("td",{staticStyle:{"text-align":"center !important"}},[t._v("$ "+t._s(e.precio))]),o("td",{staticStyle:{"text-align":"right"}},[t._v("\n                      $ "+t._s(e.cantidad*e.precio)+"\n                    ")])])})),0),o("tfoot",[o("tr",[o("th"),o("th"),o("th"),o("th",{staticStyle:{"text-align":"right"}},[t._v("TOTAL")]),o("th",{staticStyle:{"text-align":"right"}},[t._v("$ "+t._s(e.total))])])])])])]),o("br"),o("br"),o("footer",[o("div",{attrs:{id:"gracias"}},[o("p",[o("b",[t._v("Gracias por su compra!")])])])])])])})),1),o("v-card-actions",[o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.ocultarComprobante()}}},[t._v("Cancelar")])],1)],1)],1)},Se=[],Fe=(a("c0e9"),{data(){return{detalles_existe:!1,total:0,totalImpuesto:0,impuesto:0,dialog:!1}},props:["imprimir"],created(){let t=this;this.imprimir.forEach(e=>{t.detalles_existe=void 0!==e.detalles})},computed:{...Object(s["c"])("clienteNamespace",["cliente"]),...Object(s["c"])("usuarioNamespace",["token"])},methods:{...Object(s["b"])("clienteNamespace",["getCliente"]),ocultarComprobante(){this.dialog=!1},calcularTotal(){},async llamarCliente(){this.imprimir.forEach(t=>{let e={persona:t.persona,token:this.token};this.getCliente(e)})},toPrint(){this.$htmlToPaper("contenedor")},sendWhatsApp(){this.$htmlToPaper("contenedor",null,()=>{if(sessionStorage.desktop){window.open("https://api.whatsapp.com/send")}else if(localStorage.mobile){let t="Prueba mensaje";window.open("whatsapp://send?phone=Desde app "+t)}})}}}),Oe=Fe,Le=(a("05d3"),Object(u["a"])(Oe,Me,Se,!1,null,null,null)),Pe=Le.exports;v()(Le,{VBtn:b["a"],VCard:N["a"],VCardActions:M["a"],VCardText:M["c"],VCardTitle:M["d"],VDialog:Wt["a"],VIcon:f["a"],VTooltip:Xt["a"]});var $e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.filtroImprimir,callback:function(e){t.filtroImprimir=e},expression:"filtroImprimir"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Imprimir varios")]),a("v-card-text",[t._v("\n        Indica el rango de fechas que quieres imprimir\n      ")]),a("v-card-text",[a("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Desde","persistent-hint":""},model:{value:t.dateFormattedDesde,callback:function(e){t.dateFormattedDesde=e},expression:"dateFormattedDesde"}},"v-text-field",i,!1),o))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu1=!1},change:function(e){return t.changeDate(e)}},model:{value:t.date_desde,callback:function(e){t.date_desde=e},expression:"date_desde"}})],1)],1),a("v-card-text",[a("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Hasta","persistent-hint":""},model:{value:t.dateFormattedHasta,callback:function(e){t.dateFormattedHasta=e},expression:"dateFormattedHasta"}},"v-text-field",i,!1),o))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu2=!1},change:function(e){return t.changeDateHasta(e)}},model:{value:t.date_hasta,callback:function(e){t.date_hasta=e},expression:"date_hasta"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"ma-2",attrs:{tile:"",outlined:"",color:"error",text:"text"},on:{click:function(e){t.filtroImprimir=!1}}},[t._v("Cancelar")]),a("v-btn",{staticClass:"ma-2",attrs:{tile:"",outlined:"",color:"success",text:"text"},on:{click:function(e){return t.preImpresion()}}},[t._v("Imprimir")])],1)],1)],1),a("ModalImprimir",{ref:"imprimir",attrs:{imprimir:t.imprimir}})],1)},Be=[],Ue={data(){return{filtroImprimir:!1,date_desde:(new Date).toISOString().substr(0,10),date_hasta:(new Date).toISOString().substr(0,10),dateFormattedDesde:Ne.a.utc(new Date).format("L"),dateFormattedHasta:Ne.a.utc(new Date).format("L"),menu1:!1,menu2:!1,imprimir:[]}},created(){Ne.a.locale("es")},components:{ModalImprimir:Pe},props:["pedidos"],methods:{changeDate(t){this.dateFormattedDesde=Ne()(t).format("L")},changeDateHasta(t){this.dateFormattedHasta=Ne()(t).format("L")},async preImpresion(){this.$refs.imprimir.dialog=!0;let t=Ne()(this.dateFormattedDesde,"L").subtract(1,"days").format(),e=Ne()(this.dateFormattedHasta,"L").add(1,"days").format();this.imprimir=[],this.pedidos.forEach(a=>{let o=Ne()(a.entregaAt,"L").format(),i=Ne()(o).isBetween(t,e);i&&this.imprimir.push({tipo_comprobante:a.tipo_comprobante,serie_comprobante:a.serie_comprobante,num_comprobante:a.num_comprobante,fecha:a.entregaAt,persona:a.persona,detalles:a.detalles,total:a.total})}),await this.imprimir,this.filtroImprimir=!1,this.$refs.imprimir.llamarCliente()}}},Re=Ue,ze=a("2e4b"),He=a("e449"),qe=Object(u["a"])(Re,$e,Be,!1,null,null,null),Ge=qe.exports;v()(qe,{VBtn:b["a"],VCard:N["a"],VCardActions:M["a"],VCardText:M["c"],VCardTitle:M["d"],VDatePicker:ze["a"],VDialog:Wt["a"],VMenu:He["a"],VSpacer:j["a"],VTextField:Zt["a"]});var Je=a("e64a"),Ye=a.n(Je),Ke={data:t=>({date:(new Date).toISOString().substr(0,10),dateFiltroDist:(new Date).toISOString().substr(0,10),dateFiltroPedidos:(new Date).toISOString().substr(0,10),dateFiltroAlmacen:(new Date).toISOString().substr(0,10),dateFiltroReparto:(new Date).toISOString().substr(0,10),dateFormatted:Ne()(new Date).format("L"),menuFiltroDistribucion:!1,menuFiltroPedidos:!1,menuFiltroAlmacen:!1,menuFiltroReparto:!1,menu1:!1,entrega:!1,negocio:1,dialog:!1,search1:"",search2:"",search3:"",search4:"",headers:Ye.a.headers,headersPedido:Ye.a.headersPedido,cabeceraDetalles:Ye.a.cabeceraDetalles,cabeceraArticulos:Ye.a.cabeceraArticulos,modoChart:Ye.a.modoChart,negocios:Ye.a.negocios,comprobantes:Ye.a.comprobantes,unidades:Ye.a.unidades,ventasAlmacen:[],ventasAlmacenDate:[],ventasReparto:[],ventasRepartoDate:[],pedidosReparto:[],pedidosRepartoDate:[],pedidosAlmacen:[],pedidosAlmacenDate:[],_id:"",persona:"",personas:[],tipo_comprobante:"",unidad:"",serie_comprobante:"",num_comprobante:"",pagado:0,impuesto:.22,codigo:"",detalles:[],verNuevo:0,errorArticulo:null,descripcion:"",total:0,totalParcial:0,totalImpuesto:0,texto:"",imprimir:[],verDetalle:0,valida:0,validaMensaje:[],adModal:0,adAccion:0,comprobanteModal:0,adNombre:"",estado:3,adId:"",fecha:null,imprimirNegocio:!1,send:null}),components:{Imprimir:Pe,modalImprimir:Ge},beforeCreate(){},created(){Ne.a.locale("es"),this.listar(),this.selectPersona()},watch:{dialog(t){t||this.close()},date(t){let e=new Date;e=Ne()(e).format("Y-MM-DD"),t<e&&(this.dateFormatted=Ne()(new Date).format("L"),_e()({title:"Alerta!",text:"La fechan no puede ser menor a "+this.dateFormatted,icon:"warning"}))},dateFiltroDist:function(t){this.functionPedidosReparto(t)},dateFiltroPedidos:function(t){this.functionPedidosAlmacen(t)},dateFiltroAlmacen:function(t){this.functionVentasAlmacen(t)},dateFiltroReparto:function(t){this.functionVentasReparto(t)}},computed:{...Object(s["c"])("usuarioNamespace",["token","usuario"]),...Object(s["c"])("clienteNamespace",["clientes"]),...Object(s["c"])("ventasNamespace",["ventas","venta"]),...Object(s["c"])("articulosNamespace",["articulos"]),computedDateFormatted(){return this.formatDate(this.date)},calcularTotal:function(){let t=0;for(var e=0;e<this.detalles.length;e++)t+=this.detalles[e].cantidad*this.detalles[e].precio;return t},verooeditar:function(){let t="";switch(this.verNuevo){case 1:t="Nuevo pedido";break;case 2:t="Edición del pedido";break;case 3:t="Detalle del pedido";break;default:t="Nuevo pedido"}return t},esAdministrador(){return"Administrador"==this.usuario.rol}},methods:{...Object(s["b"])("articulosNamespace",["getArticulos"]),...Object(s["b"])("clienteNamespace",["getClientes"]),...Object(s["b"])("ventasNamespace",["getVentas","getVenta","saveVenta","updateVenta","sendVenta","nosendVenta","deleteVenta","activateVenta","deactivateVenta"]),selectPersona(){let t=this,e=this.clientes;e.map((function(e){t.personas.push({text:e.nombre,value:e._id})}))},changeDate(t){this.dateFormatted=Ne()(t).format("L")},formatDate(t){if(!t)return null;const[e,a,o]=t.split("-");return`${a}/${o}/${e}`},parseDate(t){if(!t)return null;const[e,a,o]=t.split("/");return`${o}-${e.padStart(2,"0")}-${a.padStart(2,"0")}`},preImpresion(t){this.$refs.imprimir.dialog=!0,this.limpiar(),this.imprimir=[],this.imprimir.push({tipo_comprobante:t.tipo_comprobante,serie_comprobante:t.serie_comprobante,num_comprobante:t.num_comprobante,fecha:t.entregaAt,persona:t.persona,detalles:t.detalles,total:t.total}),this.comprobanteModal=1,this.$refs.imprimir.llamarCliente()},imprimirVarios(t){this.imprimir=[],2==t&&(this.imprimirNegocio=!0),this.$refs.modal_imprimir.filtroImprimir=!0},agregarDetalle(t){this.errorArticulo=null,1==this.encuentra(t._id)?this.errorArticulo="El artículo ya ha sido agregado.":(this.detalles.push({_id:t._id,articulo:t.nombre,cantidad:1,unidad:t.unidad,precio:t.precio_venta,descuento:0,descripcion:t.descripcion,categoria:t.categoria.nombre}),this.texto="")},encuentra(t){let e=0;for(var a=0;a<this.detalles.length;a++)this.detalles[a]._id==t&&(e=!0);return e},eliminarDetalle(t,e){let a=t.indexOf(e);-1!=a&&t.splice(a,1)},listarArticulos(){this.getArticulos({texto:this.texto,token:this.token})},async listarDetalles(t){await this.getVenta({id:t,token:this.token}),this.detalles=await this.venta},verIngreso(t){this.limpiar(),this.tipo_comprobante=t.tipo_comprobante,this.serie_comprobante=t.serie_comprobante,this.num_comprobante=t.num_comprobante,this.persona=t.persona._id,this.negocio=t.negocio,this.entrega=t.entrega,this.pagado=t.pagado,this.dateFormatted=t.entregaAt,this.listarDetalles(t._id),this.verNuevo=3,this.verDetalle=1},limpiar(){this._id="",this.tipo_comprobante="",this.serie_comprobante="",this.num_comprobante="",this.persona="",this.negocio="",this.codigo="",this.texto="",this.pagado=0,this.total=0,this.totalParcial=0,this.totalImpuesto=0,this.detalles=[],this.verNuevo=0,this.valida=0,this.validaMensaje=[],this.verDetalle=0},validar(){this.valida=0,this.validaMensaje=[];return this.detalles.forEach(t=>{t.unidad||this.validaMensaje.push("Debe seleccionar la unidad para el articulo "+t.articulo)}),this.persona||this.validaMensaje.push("Seleccione un cliente."),this.detalles.length<=0&&this.validaMensaje.push("Ingrese al menos un artículo al detalle"),this.validaMensaje.length&&(this.valida=1),this.valida},mostrarNuevo(){this.send="post",this.verNuevo=1},ocultarNuevo(){this.verNuevo=0},activarDesactivarMostrar(t,e){this.adModal=1,this.adNombre=e.num_comprobante,this.adId=e._id,1==t?this.adAccion=1:2==t?this.adAccion=2:3==t?this.adAccion=3:this.adModal=0},entregaFn(t,e){let a=this;this.adModal=1,this.adNombre=e.num_comprobante,this.adId=e._id,1==t?(this.adAccion=4,a.entrega=!0):2==t?(this.adAccion=5,a.entrega=!1):this.adModal=0},activarDesactivarCerrar(){this.adModal=0},editItem(t){this.send="put",this._id=t._id,this.persona=t.persona._id,this.tipo_comprobante=t.tipo_comprobante,this.serie_comprobante=t.serie_comprobante,this.num_comprobante=t.num_comprobante,this.total=t.total,this.detalles=t.detalles,this.negocio=t.negocio,this.entrega=t.entrega,this.pagado=t.pagado,this.dateFormatted=t.entregaAt,this.verNuevo=2,this.editedIndex=1},close(){this.dialog=!1,this.imprimir=[],this.verNuevo=0,this.$refs.modal_imprimir.filtroImprimir=!1},updateUnidad(t,e){this.detalles.forEach(a=>{a.articulo==e.articulo&&(a.unidad=t)})},async listar(){let t=this;t.ventasReparto=[],t.pedidosReparto=[],t.pedidosAlmacen=[],t.ventasAlmacen=[];let e=await this.ventas;e.forEach(async e=>{e.entregaAt=Ne()(e.entregaAt).format("L"),1===e.negocio?0!=e.entrega?t.ventasAlmacen.push(e):t.pedidosAlmacen.push(e):0!=e.entrega?t.ventasReparto.push(e):t.pedidosReparto.push(e)}),this.functionPedidosReparto(this.dateFiltroDist),this.functionPedidosAlmacen(this.dateFiltroPedidos),this.functionVentasAlmacen(this.dateFiltroAlmacen),this.functionVentasReparto(this.dateFiltroReparto)},guardar(){if(!this.validar())if(this.entrega?(this.entrega=!0,this.estado=1):this.estado=3,"put"==this.send)this.updateVenta({token:this.token,id:this._id,persona:this.persona,usuario:this.usuario._id,tipo_comprobante:this.tipo_comprobante,serie_comprobante:this.serie_comprobante,num_comprobante:this.num_comprobante,pagado:this.pagado,total:this.total,negocio:this.negocio,entregaAt:Ne()(this.dateFormatted,"L").format(),entrega:this.entrega,estado:this.estado,detalles:this.detalles}),this.listar(),this.limpiar(),this.close();else{let t=null!=this.entrega&&this.entrega;this.saveVenta({token:this.token,persona:this.persona,usuario:this.usuario._id,tipo_comprobante:this.tipo_comprobante,serie_comprobante:this.serie_comprobante,num_comprobante:this.num_comprobante,pagado:this.pagado,total:this.total,negocio:this.negocio,entrega:t,entregaAt:Ne()(this.dateFormatted,"L").format(),estado:this.estado,detalles:this.detalles}),this.listar(),this.close()}},entregado(){this.sendVenta({token:this.token,id:this.adId}),this.adModal=0,this.adAccion=0,this.adNombre="",this.adId=""},noEntregado(){this.nosendVenta({token:this.token,id:this.adId}),this.adModal=0,this.adAccion=0,this.adNombre="",this.adId=""},activar(){this.activateVenta({token:this.token,id:this.adId}),this.adModal=0,this.adAccion=0,this.adNombre="",this.adId=""},desactivar(){this.deactivateVenta({token:this.token,id:this.adId}),this.adModal=0,this.adAccion=0,this.adNombre="",this.adId=""},eliminarPedido(){this.deleteVenta({token:this.token,id:this.adId}),this.adModal=0,this.adAccion=0,this.adNombre="",this.adId=""},functionPedidosReparto(t){let e=Ne()(t).format(),a=this;this.pedidosRepartoDate=[],this.pedidosReparto.forEach(t=>{let o=Ne()(t.entregaAt,"L").format();e==o&&a.pedidosRepartoDate.push(t)})},functionPedidosAlmacen(t){let e=Ne()(t).format(),a=this;this.pedidosAlmacenDate=[],this.pedidosAlmacen.forEach(t=>{let o=Ne()(t.entregaAt,"L").format();e==o&&a.pedidosAlmacenDate.push(t)})},functionVentasAlmacen(t){let e=Ne()(t).format(),a=this;this.ventasAlmacenDate=[],this.ventasAlmacen.forEach(t=>{let o=Ne()(t.entregaAt,"L").format();e==o&&a.ventasAlmacenDate.push(t)})},functionVentasReparto(t){let e=Ne()(t).format(),a=this;this.ventasRepartoDate=[],this.ventasReparto.forEach(t=>{let o=Ne()(t.entregaAt,"L").format();e==o&&a.ventasRepartoDate.push(t)})}},mounted(){et.$on("cargarLista",()=>{this.listar()})}},We=Ke,Ze=(a("317d"),a("c6a6")),Qe=a("ac7c"),Xe=a("cd55"),ta=a("49e2"),ea=a("c865"),aa=a("0393"),oa=Object(u["a"])(We,Ie,Te,!1,null,null,null),ia=oa.exports;v()(oa,{VAutocomplete:Ze["a"],VBtn:b["a"],VCard:N["a"],VCardActions:M["a"],VCardText:M["c"],VCardTitle:M["d"],VCheckbox:Qe["a"],VCol:st["a"],VContainer:R["a"],VDataTable:Kt["a"],VDatePicker:ze["a"],VDialog:Wt["a"],VDivider:rt["a"],VExpansionPanel:Xe["a"],VExpansionPanelContent:ta["a"],VExpansionPanelHeader:ea["a"],VExpansionPanels:aa["a"],VFlex:S["a"],VIcon:f["a"],VLayout:O["a"],VMenu:He["a"],VRow:ct["a"],VSelect:me["a"],VSpacer:j["a"],VTextField:Zt["a"],VToolbar:Qt["a"],VToolbarTitle:A["a"],VTooltip:Xt["a"]});var na=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},sa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("canvas",{attrs:{id:"myChart"}})])}],ra={data(){return{valores:[],meses:[],totales:[]}},computed:{...Object(s["c"])("usuarioNamespace",["token"])},methods:{listar(){let t=this,e={Token:this.token},a={headers:e};Z.a.get("venta/grafico12meses",a).then((function(e){t.valores=e.data,t.graficar()})).catch((function(t){console.log(t)}))},graficar(){let t=this,e="";t.valores.map((function(a){switch(parseInt(a._id.mes)){case 1:e="Enero";break;case 2:e="Febrero";break;case 3:e="Marzo";break;case 4:e="Abril";break;case 5:e="Mayo";break;case 6:e="Junio";break;case 7:e="Julio";break;case 8:e="Agosto";break;case 9:e="Setiembre";break;case 10:e="Octubre";break;case 11:e="Noviembre";break;case 12:e="Diciembre";break;default:e="error"}t.meses.push(e+"-"+a._id.year),t.totales.push(a.total)}));var a=document.getElementById("myChart");new Ct.a(a,{type:"bar",data:{labels:t.meses,datasets:[{label:"Monto total",data:t.totales,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}},mounted(){this.listar()}},ca=ra,la=Object(u["a"])(ca,na,sa,!1,null,null,null),da=la.exports,ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{text:"",color:"white"}},[a("v-toolbar-title",[t._v("Listado de compras")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer")],1),a("v-expansion-panels",{staticClass:"mt-5",attrs:{popout:""}},[a("v-expansion-panel",{staticClass:"elevation-3",attrs:{expand:""}},[a("v-expansion-panel-header",[t._v("Almacén")]),a("v-expansion-panel-content",[a("v-row",[a("v-col",[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-col",[a("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Filtra por fecha de entrega","persistent-hint":""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",i,!1),o))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{attrs:{"no-title":""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),a("v-col",[[a("v-card-title",{staticClass:"headline"},[a("v-btn",{on:{click:function(e){return t.mostrarComprobante("Almacen")}}},[a("v-icon",{attrs:{large:""}},[t._v("print")])],1),t._v("\n                  Imprimir lista\n                ")],1)]],2),a("v-col",[a("v-select",{attrs:{items:t.items,label:"Imprimi ordenado por"},model:{value:t.itemSelect,callback:function(e){t.itemSelect=e},expression:"itemSelect"}})],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.ventas,search:t.search,id:"almacen"},scopedSlots:t._u([{key:"index",fn:function(e){return[t._v("\n              "+t._s(e.index)+"\n            ")]}}])})],1)],1)],1),a("v-expansion-panels",{staticClass:"mt-5",attrs:{popout:""}},[a("v-expansion-panel",{staticClass:"elevation-3",staticStyle:{"margin-bottom":"10px"},attrs:{expand:""}},[a("v-expansion-panel-header",[t._v("\n          Distribución\n        ")]),a("v-expansion-panel-content",[a("v-row",[a("v-col",[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-col",[a("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Filtra por fecha de entrega","persistent-hint":""},model:{value:t.date_distribution,callback:function(e){t.date_distribution=e},expression:"date_distribution"}},"v-text-field",i,!1),o))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{attrs:{"no-title":""},model:{value:t.date_distribution,callback:function(e){t.date_distribution=e},expression:"date_distribution"}})],1)],1),a("v-col",[[a("v-card-title",{staticClass:"headline"},[a("v-btn",{on:{click:function(e){return t.mostrarComprobante("Distribucion")}}},[a("v-icon",{attrs:{large:""}},[t._v("print")])],1),t._v("\n                  Imprimir lista\n                ")],1)]],2),a("v-col",[a("v-select",{attrs:{items:t.items,label:"Imprimi ordenado por"},model:{value:t.itemSelect,callback:function(e){t.itemSelect=e},expression:"itemSelect"}})],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.distribucion,search:t.search,id:"distribucion"}})],1)],1)],1)],1),a("imprimir",{ref:"imprimir",attrs:{distribucion:t.distribucion,ventas:t.ventas}})],1)},ma=[],va=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[o("v-btn",{on:{click:function(e){return t.toPrint()}}},[o("v-icon",[t._v("print")])],1),t._v("Reporte de venta\n    ")],1),o("v-card-text",[o("div",{attrs:{id:"factura"}},[o("header",{staticStyle:{display:"flex"}},[o("div",{staticStyle:{"flex-grow":"1"},attrs:{id:"logo"}},[o("img",{attrs:{src:a("790b"),id:"imagen",width:"100",height:"100"}})]),o("div",{staticStyle:{"flex-grow":"2"},attrs:{id:"datos"}},[o("p",{attrs:{id:"encabezado"}},[o("b",[t._v("Espacio Natural")]),o("br"),t._v("Telefono:+598 95284300\n              "),o("br"),t._v("Email:contacto@espacionatural.com\n            ")])]),o("div",{attrs:{id:"fact"}})]),o("br"),o("section",[o("div",[o("h3",{staticClass:"text-center"},[t._v(t._s(t.tipo))]),o("p",{staticClass:"text-center"},[t._v("Impreso: "+t._s(t.date))])])]),o("br"),o("section",[o("div",[o("table",{staticStyle:{width:"100%"},attrs:{id:"facarticulo"}},[o("thead",{staticStyle:{background:"#2183e3 !important",color:"white","padding-top":"5px !important","padding-bottom":"5px !important"}},[o("tr",{staticClass:"text-center",attrs:{id:"fa"}},[o("th",[t._v("#")]),o("th",[t._v("ARTICULO")]),o("th",[t._v("CANTIDAD")]),o("th",[t._v("UNIDAD")])])]),"Almacen"==t.tipo?o("tbody",t._l(t.ventas,(function(e,a){return o("tr",{key:e.id,staticClass:"text-center"},[o("td",{staticClass:"text-center"},[t._v(t._s(a+1))]),o("td",{staticClass:"text-center"},[t._v(t._s(e.articulo))]),o("td",{staticClass:"text-center"},[t._v(t._s(e.cantidad))]),o("td",{staticClass:"text-center"},[t._v(t._s(e.unidad))])])})),0):t._e(),"Distribucion"==t.tipo?o("tbody",t._l(t.distribucion,(function(e,a){return o("tr",{key:e.id,staticClass:"text-center"},[o("td",{staticClass:"text-center"},[t._v(t._s(a+1))]),o("td",{staticClass:"text-center"},[t._v(t._s(e.articulo))]),o("td",{staticClass:"text-center"},[t._v(t._s(e.cantidad))]),o("td",{staticClass:"text-center"},[t._v(t._s(e.unidad))])])})),0):t._e(),o("tfoot")])])]),o("br"),o("br"),o("footer",[o("div",{attrs:{id:"gracias"}},[o("p",[o("b",[t._v("Fin de la lista!")])])])])])]),o("v-card-actions",[o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.ocultarComprobante()}}},[t._v("Cancelar")])],1)],1)],1)},pa=[],ha={data(){return{dialog:!1,tipo:null,date:Ne()(new Date).format("LL")}},props:["distribucion","ventas"],created(){Ne.a.locale("es")},methods:{...Object(s["b"])("clienteNamespace",["getCliente"]),ocultarComprobante(){this.dialog=!1},calcularTotal(){},ordenarLista:function(t){this.ventas.length>0&&this.ventas.sort((e,a)=>{if("Unidad"==t){if(e.unidad>a.unidad)return 1;if(e.unidad<a.unidad)return-1}else{if(e.articulo>a.articulo)return 1;if(e.articulo<a.articulo)return-1}return 0}),this.distribucion.length>0&&this.distribucion.sort((e,a)=>{if("Unidad"==t){if(e.unidad>a.unidad)return 1;if(e.unidad<a.unidad)return-1}else{if(e.articulo>a.articulo)return 1;if(e.articulo<a.articulo)return-1}return 0})},toPrint(){this.$htmlToPaper("factura")}}},ba=ha,fa=(a("cfde"),Object(u["a"])(ba,va,pa,!1,null,null,null)),_a=fa.exports;v()(fa,{VBtn:b["a"],VCard:N["a"],VCardActions:M["a"],VCardText:M["c"],VCardTitle:M["d"],VDialog:Wt["a"],VIcon:f["a"]});var ga={data(){return{dialog:!1,menu1:!1,comprobanteModal:0,search:"",ventas:[],distribucion:[],ventasUnicas:[],allData:[],modoChart:"bar",headers:[{text:"#",value:"index",sortable:!1},{text:"Artículo",value:"articulo",sortable:!0},{text:"Cantidad",value:"cantidad",sortable:!0},{text:"Unidad",value:"unidad",sortable:!0}],imprimir:{articulo:"",cantidad:"",unidad:""},date:(new Date).toISOString().substr(0,10),date_distribution:(new Date).toISOString().substr(0,10),dateFormatted:Ne()(new Date).format("L"),items:["Articulo","Unidad"],itemSelect:"Unidad"}},created(){this.listar(),Ne.a.locale("es")},components:{Chart:St,imprimir:_a},computed:{...Object(s["c"])("usuarioNamespace",["token","usuario"])},methods:{changeDate(t){this.dateFormatted=Ne()(t).format("L")},mostrarComprobante(t){this.$refs.imprimir.dialog=!0,this.$refs.imprimir.tipo=t,this.$refs.imprimir.ordenarLista(this.itemSelect)},listar(){let t=this,e=this.token,a={Token:e},o={headers:a};Z.a.get("venta/queComprar",o).then((function(e){t.allData=e.data;let a=0,o=0;e.data.forEach(e=>{let i=Ne()(e.entregaAt).format("LL"),n=Ne()(new Date).format("LL");i===n&&e.detalles.forEach(n=>{if(1==e.negocio){let o=!1;t.ventas.forEach(t=>{t.articulo==n.articulo&&t.unidad==n.unidad&&(o=!0,t.cantidad=n.cantidad+t.cantidad)}),o||(a++,t.ventas.push({index:a,referencia:e._id,articulo:n.articulo,cantidad:n.cantidad,serie_comprobante:e.serie_comprobante,num_comprobante:e.num_comprobante,unidad:n.unidad,fecha:i}))}if(1!=e.negocio){let a=!1;t.distribucion.forEach(t=>{t.articulo==n.articulo&&t.unidad==n.unidad&&(a=!0,t.cantidad=n.cantidad+t.cantidad)}),a||(o++,t.distribucion.push({index:o,referencia:e._id,articulo:n.articulo,cantidad:n.cantidad,serie_comprobante:e.serie_comprobante,num_comprobante:e.num_comprobante,unidad:n.unidad,fecha:i}))}})})})).catch((function(t){console.log(t)}))}},watch:{date_distribution:function(t){this.distribucion=[];let e=0;this.allData.forEach(a=>{let o=Ne()(a.entregaAt).format("YYYY-MM-DD");if(t==o){let t=Ne()(a.entregaAt).format("LL");a.detalles.forEach(o=>{let i=!1;this.distribucion.forEach(t=>{t.articulo==o.articulo&&t.unidad==o.unidad&&(i=!0,t.cantidad=o.cantidad+t.cantidad)}),i||1!=a.negocio&&(e++,this.distribucion.push({index:e,referencia:a._id,articulo:o.articulo,cantidad:o.cantidad,serie_comprobante:a.serie_comprobante,num_comprobante:a.num_comprobante,unidad:o.unidad,fecha:t}))})}})},date:function(t){this.ventas=[];let e=0;this.allData.forEach(a=>{let o=Ne()(a.entregaAt).format("YYYY-MM-DD");if(t==o){let t=Ne()(a.entregaAt).format("LL");a.detalles.forEach(o=>{let i=!1;this.ventas.forEach(t=>{t.articulo==o.articulo&&t.unidad==o.unidad&&(i=!0,t.cantidad=o.cantidad+t.cantidad)}),i||1==a.negocio&&(e++,this.ventas.push({index:e,referencia:a._id,articulo:o.articulo,cantidad:o.cantidad,serie_comprobante:a.serie_comprobante,num_comprobante:a.num_comprobante,unidad:o.unidad,fecha:t}))})}})}}},xa=ga,ka=(a("fc57"),Object(u["a"])(xa,ua,ma,!1,null,null,null)),Ca=ka.exports;v()(ka,{VBtn:b["a"],VCardTitle:M["d"],VCol:st["a"],VDataTable:Kt["a"],VDatePicker:ze["a"],VDivider:rt["a"],VExpansionPanel:Xe["a"],VExpansionPanelContent:ta["a"],VExpansionPanelHeader:ea["a"],VExpansionPanels:aa["a"],VFlex:S["a"],VIcon:f["a"],VLayout:O["a"],VMenu:He["a"],VRow:ct["a"],VSelect:me["a"],VSpacer:j["a"],VTextField:Zt["a"],VToolbar:Qt["a"],VToolbarTitle:A["a"]});var ya=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("Dialog",{attrs:{object:t.objEdit,show:t.abrirDialog},on:{save:t.guardarDeuda,close:t.close}}),a("Indicadores",{attrs:{items:t.items}}),a("Chart",{attrs:{modo:t.modoChart}}),[a("span",{staticClass:"align-center"},[t._v("\n      Clientes con deudas\n    ")])],a("v-row",[a("v-col",[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search1,callback:function(e){t.search1=e},expression:"search1"}})],1)],1),a("Table",{attrs:{headers:t.headers,arrayList:t._f("conDeuda")(t.clientes),search:t.search1,opciones:!0},on:{edit:t.handleClick}}),[a("span",{staticClass:"align-center"},[t._v("\n      Transacciones con deudas\n    ")])],a("v-row",[a("v-col",[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search2,callback:function(e){t.search2=e},expression:"search2"}})],1),a("v-col",[a("v-autocomplete",{attrs:{items:t.itemsFiltro,outlined:"",dense:"",label:"Filtrar por clientes"},on:{change:function(e){return t.selectClient()}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1),a("Table",{attrs:{headers:t.headersDeudas,arrayList:t.arrayList,search:t.search2,select:t.value},on:{edit:t.handleClick}})],2)},ja=[],Aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.arrayList,search:t.search,"single-select":!0},scopedSlots:t._u([t.opciones?{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},[t._v("edit\n          ")])]}}:null,{key:"item.estado",fn:function(e){var o=e.item;return[o.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]}}],null,!0)})],1)],1)],1)},wa=[],Va={name:"Table",data(){return{itemObj:{id:"",nombre:"",deuda:"",token:""},personaObj:{id:"",deuda:"",token:""}}},props:{headers:Array,arrayList:Array,search:"",select:"",opciones:{type:Boolean,default:!1}},computed:{...Object(s["c"])("usuarioNamespace",["token"])},methods:{editItem(t){this.itemObj.id=t._id,this.itemObj.nombre=t.nombre,this.itemObj.deuda=t.deuda,this.itemObj.token=this.token,this.$emit("edit",this.itemObj)}}},Da=Va,Ia=Object(u["a"])(Da,Aa,wa,!1,null,null,null),Ta=Ia.exports;v()(Ia,{VCol:st["a"],VContainer:R["a"],VDataTable:Kt["a"],VIcon:f["a"],VRow:ct["a"]});var Ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Edición deuda")])]),a("v-card-text",[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"nombre",label:"Nombre"},model:{value:t.object.nombre,callback:function(e){t.$set(t.object,"nombre",e)},expression:"object.nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"deuda",label:"Deuda"},model:{value:t.object.deuda,callback:function(e){t.$set(t.object,"deuda",e)},expression:"object.deuda"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("\n        Cancelar\n      ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.guardar}},[t._v("\n        Guardar\n      ")])],1)],1)],1)},Na=[],Ma={data(){return{}},props:{object:Object,show:Boolean},methods:{guardar(){this.$emit("save",this.object)},close(){this.$emit("close")}}},Sa=Ma,Fa=Object(u["a"])(Sa,Ea,Na,!1,null,null,null),Oa=Fa.exports;v()(Fa,{VBtn:b["a"],VCard:N["a"],VCardActions:M["a"],VCardText:M["c"],VCardTitle:M["d"],VDialog:Wt["a"],VFlex:S["a"],VSpacer:j["a"],VTextField:Zt["a"]});var La={data(){return{search1:"",search2:"",itemsFiltro:[],values:[],value:null,modoChart:"column",abrirDialog:!1,objEdit:{},headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre",sortable:!0},{text:"Deuda",value:"deuda",sortable:!0},{text:"Teléfono",value:"telefono",sortable:!1},{text:"Email",value:"email",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],headersDeudas:[{text:"Persona",value:"persona.nombre",sortable:!0},{text:"Venta",value:"venta",sortable:!1},{text:"Total",value:"monto",sortable:!1},{text:"Pagado",value:"pagado",sortable:!1},{text:"Fecha",value:"createdAt",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],items:[{color:"warning",cuantity:"$ 2500",title:"Deudas",artist:"Foster the People"},{color:"success",cuantity:"$ 1200",title:"Balance",artist:"Ellie Goulding"}],arrayList:[]}},components:{Indicadores:_t,Chart:St,Table:Ta,Dialog:Oa},async created(){this.llamarClientes(),this.llamarVentas(),this.clientesAutocomplete(),this.getDeudas(this.token),this.arrayList=this.deudas},filters:{conDeuda:t=>t.filter(t=>t.deuda>0)},computed:{...Object(s["c"])("clienteNamespace",["clientes"]),...Object(s["c"])("ventasNamespace",["ventas"]),...Object(s["c"])("deudasNamespace",["deudas"]),...Object(s["c"])("usuarioNamespace",["token"])},methods:{...Object(s["b"])("clienteNamespace",["getClientes"]),...Object(s["b"])("clienteNamespace",["updateDeuda"]),...Object(s["b"])("ventasNamespace",["getVentas"]),...Object(s["b"])("deudasNamespace",["getDeudas"]),clientesAutocomplete(){this.itemsFiltro=this.clientes.map(t=>{let e={text:t.nombre,value:t._id};return e})},llamarClientes(){let t=this.token;this.getClientes(t)},llamarVentas(){let t=this.token;this.getVentas(t)},handleClick(t){this.objEdit=t,this.abrirDialog=!0},guardarDeuda(t){this.updateDeuda(t),this.close(),this.llamarClientes()},close(){this.abrirDialog=!1},selectClient(){this.arrayList=[],null!=this.value&&""!=this.value&&this.deudas.forEach(t=>{this.value==t.persona._id&&this.arrayList.push(t)}),0==this.arrayList.length&&(this.arrayList=this.deudas)}}},Pa=La,$a=Object(u["a"])(Pa,ya,ja,!1,null,null,null),Ba=$a.exports;v()($a,{VAutocomplete:Ze["a"],VCol:st["a"],VContainer:R["a"],VRow:ct["a"],VTextField:Zt["a"]});var Ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",t._l(t.messages,(function(e,o){return a("li",{key:o},[t._v("\n          "+t._s(e)+"\n      ")])})),0)])},Ra=[],za={name:"test",data:()=>({messages:["Hey John","Howdy Paco"]})},Ha=za,qa=Object(u["a"])(Ha,Ua,Ra,!1,null,null,null),Ga=qa.exports;o["a"].use(J["a"]);var Ja=new J["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:Ht,meta:{administrador:!0,almacenero:!0,vendedor:!0}},{path:"/testing",name:"testing",component:Ga,meta:{libre:!0}},{path:"/login",name:"login",component:re,meta:{libre:!0}},{path:"/categoria",name:"categoria",component:ee,meta:{administrador:!0,almacenero:!0}},{path:"/articulo",name:"articulo",component:Ce,meta:{administrador:!0,almacenero:!0}},{path:"/cliente",name:"cliente",component:De,meta:{administrador:!0,vendedor:!0}},{path:"/venta",name:"venta",component:ia,meta:{administrador:!0,vendedor:!0}},{path:"/deuda",name:"deuda",component:Ba,meta:{administrador:!0}},{path:"/comprar",name:"comprar",component:Ca,meta:{administrador:!0}},{path:"/usuario",name:"usuario",component:pe,meta:{administrador:!0}},{path:"/reporteVenta",name:"reporteVenta",component:wt,meta:{administrador:!0}},{path:"/reporteCliente",name:"reporteCliente",component:da,meta:{administrador:!0}}]});Ja.beforeEach((t,e,a)=>{t.matched.some(t=>t.meta.libre)?a():Q.state.usuario&&"Administrador"==Q.state.usuario.rol?t.matched.some(t=>t.meta.administrador)&&a():Q.state.usuario&&"Vendedor"==Q.state.usuario.rol?t.matched.some(t=>t.meta.vendedor)&&a():Q.state.usuario&&"Almacenero"==Q.state.usuario.rol?t.matched.some(t=>t.meta.almacenero)&&a():a({path:"/login"})});var Ya=Ja,Ka={namespaced:!0,state:{cliente:{},clientes:[]},mutations:{llenarCliente(t,e){t.cliente=e},llenarClientes(t,e){t.clientes=e}},actions:{getCliente:async function({commit:t},e){let a=e.persona,o=e.token,i={Token:o},n={headers:i},s=null;await Z.a.get("persona/query?_id="+a._id,n).then((function(e){s=e.data,t("llenarCliente",s)})).catch((function(t){console.log(t)}))},getClientes:async function({commit:t},e){let a={Token:e},o={headers:a},i=null;await Z.a.get("persona/listClientes",o).then((function(e){i=e.data,t("llenarClientes",i)})).catch((function(t){console.log(t)}))},updateCliente:async function({dispatch:t},e){let a={Token:e.token},o={headers:a};await Z.a.put("persona/update",{_id:e.id,tipo_persona:e.tipo_persona,nombre:e.nombre,tipo_documento:e.tipo_documento,num_documento:e.num_documento,direccion:e.direccion,telefono:e.telefono,email:e.email},o).then((function(a){t("getClientes",e.token),swal({title:"Buen trabajo!",text:`El cliente ${a.data.nombre} ${a.data.apellido} fue actualizado correctamente`,icon:"success"})})).catch((function(t){console.log(t)}))},updateDeuda:async function({dispatch:t},e){let a={Token:e.token},o={headers:a};await Z.a.put("persona/updateDeuda",{_id:e.id,deuda:e.deuda},o).then((function(a){t("getClientes",e.token),swal({title:"Buen trabajo!",text:`La deuda de ${a.data.nombre} ${a.data.apellido} fue actualizada correctamente`,icon:"success"})})).catch((function(t){console.log(t)}))},saveCliente:async function({dispatch:t},e){let a={Token:e.token},o={headers:a};await Z.a.post("persona/add",{tipo_persona:e.tipo_persona,nombre:e.nombre,tipo_documento:e.tipo_documento,num_documento:e.num_documento,direccion:e.direccion,telefono:e.telefono,email:e.email},o).then((function(a){t("getClientes",e.token),swal({title:"Buen trabajo!",text:`El cliente ${a.data.nombre} ${a.data.apellido} fue agregado exitosamente`,icon:"success"})})).catch((function(t){console.log(t)}))},activateCliente:async function({dispatch:t},e){let a={Token:e.token},o={headers:a};await Z.a.put("persona/activate",{_id:e.id},o).then((function(a){t("getClientes",e.token),swal({title:"Buen trabajo!",text:`El cliente ${a.data.nombre} ${a.data.apellido} fue activado correctamente`,icon:"success"})})).catch((function(t){console.log(t)}))},deactivateCliente:async function({dispatch:t},e){let a={Token:e.token},o={headers:a};await Z.a.put("persona/deactivate",{_id:e.id},o).then((function(a){t("getClientes",e.token),swal({title:"Buen trabajo!",text:`El cliente ${a.data.nombre} ${a.data.apellido} fue desactivado correctamente`,icon:"success"})})).catch((function(t){console.log(t)}))},deleteCliente:async function({dispatch:t},e){let a=e.token,o={Token:a},i={headers:o};await Z.a.delete("persona/remove?_id="+e.id,i).then((function(a){t("getClientes",e.token),swal({title:"Buen trabajo!",text:`El cliente ${a.data.nombre} ${a.data.apellido} fue eliminado correctamente`,icon:"success"})})).catch((function(t){console.log(t)}))}}},Wa={namespaced:!0,state:{venta:{},ventas:[]},mutations:{llenarVentas(t,e){t.ventas=e,et.$emit("cargarLista")},llenarVenta(t,e){t.venta=e}},actions:{getVentas:async function({commit:t},e){let a={Token:e},o={headers:a},i=null;await Z.a.get("venta/list",o).then((function(e){i=e.data,t("llenarVentas",i)})).catch((function(t){console.log(t)}))},getVenta:async function({commit:t},e){let a={Token:e.token},o={headers:a},i=null;await Z.a.get("venta/query?_id="+e.id,o).then((function(e){i=e.data.detalles,t("llenarVenta",i)})).catch((function(t){console.log(t)}))},saveVenta:async function({dispatch:t},e){let a={Token:e.token},o={headers:a};await Z.a.post("venta/add",{persona:e.persona,usuario:e.usuario,tipo_comprobante:e.tipo_comprobante,serie_comprobante:e.serie_comprobante,num_comprobante:e.num_comprobante,pagado:e.pagado,total:e.total,negocio:e.negocio,entrega:e.entrega,entregaAt:e.entregaAt,estado:e.estado,detalles:e.detalles},o).then((function(a){t("getVentas",e.token),(a.estado=3)?swal({title:"Buen trabajo!",text:`El pedido con fecha de entrega ${Ne()(a.entregaAt).format("LL")} fue agregado exitosamente`,icon:"success"}):swal({title:"Buen trabajo!",text:`La venta ${a.data._id} fue agregada exitosamente`,icon:"success"})})).catch(t=>{if(t.response){if(422==t.response.status)return swal({title:"Lo sentimos!",text:""+t.response.data.message,icon:"warning"})}else swal({title:"Lo sentimos!",text:"Ha ocurrido un error de tipo "+t,icon:"error"})})},updateVenta:async function({dispatch:t},e){let a={Token:e.token},o={headers:a};await Z.a.put("venta/update",{_id:e.id,persona:e.persona,usuario:e.usuario,tipo_comprobante:e.tipo_comprobante,serie_comprobante:e.serie_comprobante,num_comprobante:e.num_comprobante,pagado:e.pagado,total:e.total,negocio:e.negocio,entrega:e.entrega,entregaAt:e.entregaAt,estado:e.estado,detalles:e.detalles},o).then((function(a){t("getVentas",e.token),swal({title:"Buen trabajo!",text:`El pedido con fecha de entrega ${Ne()(a.entregaAt).format("LL")} fue editado exitosamente`,icon:"success"})})).catch(t=>{if(t.response){if(422==t.response.status)return swal({title:"Lo sentimos!",text:""+t.response.data.message,icon:"warning"})}else swal({title:"Lo sentimos!",text:"Ha ocurrido un error de tipo "+t,icon:"error"})})},sendVenta:async function({dispatch:t},e){let a={Token:e.token},o={headers:a};await Z.a.put("venta/entrega",{_id:e.id},o).then((function(a){t("getVentas",e.token),swal({title:"Buen trabajo!",text:"Pedido entregado",icon:"success"})})).catch((function(t){swal({title:"Lo sentimos!",text:"Ha ocurrido un error de tipo "+t,icon:"error"})}))},nosendVenta:async function({dispatch:t},e){let a={Token:e.token},o={headers:a};await Z.a.put("venta/noentrega",{_id:e.id},o).then((function(a){t("getVentas",e.token),swal({title:"Buen trabajo!",text:"La venta aún no fue entregada",icon:"success"})})).catch((function(t){swal({title:"Lo sentimos!",text:"Ha ocurrido un error de tipo "+t,icon:"error"})}))},activateVenta:async function({dispatch:t},e){let a={Token:e.token},o={headers:a};await Z.a.put("venta/activate",{_id:e.id},o).then((function(){t("getVentas",e.token),swal({title:"Buen trabajo!",text:"Venta activada correctamente",icon:"success"})})).catch((function(t){swal({title:"Lo sentimos!",text:"Ha ocurrido un error de tipo "+t,icon:"error"})}))},deactivateVenta:async function({dispatch:t},e){let a={Token:e.token},o={headers:a};await Z.a.put("venta/deactivate",{_id:e.id},o).then((function(){t("getVentas",e.token),swal({title:"Buen trabajo!",text:"Venta desactivada correctamente",icon:"success"})})).catch((function(t){swal({title:"Lo sentimos!",text:"Ha ocurrido un error de tipo "+t,icon:"error"})}))},deleteVenta:async function({dispatch:t},e){let a=e.token,o={Token:a},i={headers:o};await Z.a.delete("venta/remove?_id="+e.id,i).then((function(){t("getVentas",e.token),swal({title:"Buen trabajo!",text:"Pedido eliminado correctamente",icon:"success"})})).catch((function(t){console.log(t)}))}}},Za={namespaced:!0,state:{deudas:null},mutations:{llenarDeudas(t,e){t.deudas=e}},actions:{getDeudas:async function({commit:t},e){let a={Token:e},o={headers:a},i=null;await Z.a.get("deuda/list",o).then((function(e){e.data.forEach(t=>{t.createdAt=Ne()(t.createdAt).format("LL")}),i=e.data,t("llenarDeudas",i)})).catch((function(t){console.log(t)}))}}},Qa={namespaced:!0,state:{articulo:{},articulos:[]},mutations:{llenarArticulo(t,e){t.articulo=e},llenarArticulos(t,e){t.articulos=e}},actions:{getArticulos:async function({commit:t},e){let a=e.token,o={Token:a},i={headers:o},n=null;await Z.a.get("articulo/list?valor="+e.texto,i).then((function(e){n=e.data,t("llenarArticulos",n)})).catch((function(t){console.log(t)}))},updateCliente:async function({commit:t},e){let a={Token:e.token},o={headers:a};await Z.a.put("persona/update",{_id:e.id,tipo_persona:e.tipo_persona,nombre:e.nombre,tipo_documento:e.tipo_documento,num_documento:e.num_documento,direccion:e.direccion,telefono:e.telefono,email:e.email},o).then((function(t){swal({title:"Buen trabajo!",text:`El cliente ${t.data.nombre} ${t.data.apellido} fue actualizado correctamente`,icon:"success"})})).catch((function(t){console.log(t)}))},updateDeuda:async function({commit:t},e){let a={Token:e.token},o={headers:a};await Z.a.put("persona/updateDeuda",{_id:e.id,deuda:e.deuda},o).then((function(t){swal({title:"Buen trabajo!",text:`La deuda de ${t.data.nombre} ${t.data.apellido} fue actualizada correctamente`,icon:"success"})})).catch((function(t){console.log(t)}))},saveCliente:async function({commit:t},e){let a={Token:e.token},o={headers:a};await Z.a.post("persona/add",{tipo_persona:e.tipo_persona,nombre:e.nombre,tipo_documento:e.tipo_documento,num_documento:e.num_documento,direccion:e.direccion,telefono:e.telefono,email:e.email},o).then((function(t){swal({title:"Buen trabajo!",text:`El cliente ${t.data.nombre} ${t.data.apellido} fue agregado exitosamente`,icon:"success"})})).catch((function(t){console.log(t)}))},activateCliente:async function({commit:t},e){let a={Token:e.token},o={headers:a};await Z.a.put("persona/activate",{_id:e.id},o).then((function(t){swal({title:"Buen trabajo!",text:`El cliente ${t.data.nombre} ${t.data.apellido} fue activado correctamente`,icon:"success"})})).catch((function(t){console.log(t)}))},deactivateCliente:async function({commit:t},e){let a={Token:e.token},o={headers:a};await Z.a.put("persona/deactivate",{_id:e.id},o).then((function(t){swal({title:"Buen trabajo!",text:`El cliente ${t.data.nombre} ${t.data.apellido} fue desactivado correctamente`,icon:"success"})})).catch((function(t){console.log(t)}))},deleteCliente:async function({commit:t},e){let a=e.token,o={Token:a},i={headers:o};await Z.a.delete("persona/remove?_id="+e.id,i).then((function(t){swal({title:"Buen trabajo!",text:`El cliente ${t.data.nombre} ${t.data.apellido} fue eliminado correctamente`,icon:"success"})})).catch((function(t){console.log(t)}))}}};o["a"].use(s["a"]);var Xa=new s["a"].Store({modules:{clienteNamespace:Ka,usuarioNamespace:Q,ventasNamespace:Wa,deudasNamespace:Za,articulosNamespace:Qa}}),to=a("f309"),eo=a("2e15"),ao=a.n(eo);o["a"].use(to["a"]);var oo=new to["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#00C853",secondary:"#000000",accent:"#000000",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}},lang:{locales:{es:ao.a},current:"es"},icons:{iconfont:"md"}}),io=a("7898"),no=a.n(io);o["a"].use(Tt.a),o["a"].use(no.a),o["a"].use(Ne.a.locale("es")),o["a"].config.productionTip=!1;let so="localhost:8080"==window.location.host?"http://localhost:4000/api/":"https://espacionatural.herokuapp.com/api/";Z.a.defaults.baseURL=so,new o["a"]({router:Ya,store:Xa,vuetify:oo,render:t=>t(G)}).$mount("#app")},"790b":function(t,e,a){t.exports=a.p+"img/espacioLogo.22b4c177.jpg"},a1d1:function(t,e,a){},a9ed:function(t,e,a){"use strict";var o=a("d30d"),i=a.n(o);i.a},cfde:function(t,e,a){"use strict";var o=a("a1d1"),i=a.n(o);i.a},d30d:function(t,e,a){},d552:function(t,e,a){},e64a:function(t,e){t.exports={headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Usuario",value:"usuario.nombre",sortable:!0},{text:"Cliente",value:"persona.nombre",sortable:!0},{text:"Fecha",value:"entregaAt",sortable:!0},{text:"Total",value:"total",sortable:!0},{text:"Debe",value:"resto",sortable:!1},{text:"Entrega",value:"entrega",sortable:!1},{text:"Estado",value:"estado",sortable:!0}],headersPedido:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Usuario",value:"usuario.nombre",sortable:!0},{text:"Cliente",value:"persona.nombre",sortable:!0},{text:"Fecha Entrega",value:"entregaAt",sortable:!0},{text:"Total",value:"total",sortable:!0},{text:"Debe",value:"resto",sortable:!1},{text:"Entrega",value:"entrega",sortable:!1}],cabeceraDetalles:[{text:"Borrar",value:"borrar",sortable:!1},{text:"Artículo",value:"articulo",sortable:!1},{text:"Cantidad",value:"cantidad",sortable:!1},{text:"Unidad",value:"unidad",sortable:!1},{text:"Precio",value:"precio",sortable:!1},{text:"Descripcion",value:"descripcion",sortable:!1},{text:"Sub Total",value:"subtotal",sortable:!1}],cabeceraArticulos:[{text:"Seleccionar",value:"seleccionar",sortable:!1},{text:"Código",value:"codigo",sortable:!1},{text:"Nombre",value:"nombre",sortable:!0},{text:"Categoría",value:"categoria.nombre",sortable:!0},{text:"Stock",value:"stock",sortable:!1},{text:"Precio Venta",value:"precio_venta",sortable:!1},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],unidades:[{text:"Bulto",value:"Bulto"},{text:"Atado",value:"Atado"},{text:"Kilo",value:"Kilo"},{text:"Gramos",value:"Gramos"},{text:"Unidad",value:"Unidad"}],comprobantes:["BOLETA","FACTURA","TICKET","GUIA"],negocios:[{text:"Almacén",value:1},{text:"Distribución",value:2}],modoChart:{modouno:"bar",mododos:"column",modotres:"area",modocuatro:"areaspline",modopedido:"pie",modopedido2:""}}},fc57:function(t,e,a){"use strict";var o=a("55b9"),i=a.n(o);i.a}});
//# sourceMappingURL=app.adc5268e.js.map